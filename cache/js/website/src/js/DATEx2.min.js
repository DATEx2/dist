import{$ as e,jQuery as Ne,__defineProperty as fr,NotIncluded as Yo,pageState as Ko,EcwidApiKey as We,isDev as Te,d as P,w as _r,D as Jt,hasTouchEvents as Jo,storeId as fi,$w as It,b as Ft,$b as mt,$d as h,FETCH_CART_PRODUCT as Zo,cachedPromisesCartAndPid as vr,preloadedCss as ce,smooth as yr,onceOnly as B,notOnceOnly as at,onceOnlySelfUnbind as Be,notOnceOnlySelfUnbind as tt,strike as ta,bold as ea,unbold as ft,extractBold as _i,UpdateCurrentProductClasses as ra,hideScreenLoading as vi,hideActionBar as wr,showActionBar as Dt,injectProductDetails as br,installScrollOverride as ia,isInOutOfView as oa,isInView as xe,isOutOfView as Cr,logDuration as W,extractEmailAddress as aa,onUnload as Tt,onUnloadCompleted as sa,onPageUnloaded as na,onDomReady as Bt,domReadyArrived as ca,onPageLoaded as Tr,pageLoadedCompleted as yi,onPageLoading as wi,pageLoadingCompleted as la,lazyCSS as le}from"./utils.js";import{arrivePageSelfUnbindCallbacksOnPageUnload as bi}from"./arrive.js";import{injectReviews as da}from"./websiteReviews.js";import"./ecwid/i.min.js";const{default:ua}=await import("./FD23.js"),{default:H,svgIcons:xt}=await import("./translations.js"),{uiNumber:pa}=await import("./uiNumber.js"),He=new WeakMap;pa.initJQuery(e);const{initSnips:ga,injectProductDetailsTabs:ma,initProductAttributeTables:ha}=await import("./productDetails.js"),{knownProductSlugs:et,knownCategorySlugs:de}=require("../db/knownProductSlugs.js");window.knownProductSlugs=et,window.knownCategorySlugs=de,W("All modules loaded. Running app. Initializing...")(),ga(e);const $a=18;e(document).on({"mouseenter touchstart":function(w){const C=e(this),S=C.text().trim();C.attr("data-text",S),C.addClass("is-tooltip-active");const F=w.type.startsWith("touch")?w.originalEvent.touches[0]:w;Ci(C,F)},mousemove:function(w){e(this).hasClass("is-tooltip-active")&&Ci(e(this),w)},"mouseleave touchend":function(){e(this).removeClass("is-tooltip-active")}},'a[target="_blank"]');function Ci(w,C){const S=w.offset(),F=C.pageX,G=C.pageY-S.top,Y=F-S.left;w.css({"--top":G+"px","--left":Y+"px"})}var fa=!0;function _a(w){if(w.which==3)return Ti(w)}function Ti(w){return w.cancelBubble=!0,w.stopImmediatePropagation(),w.preventDefault(),!1}function La(w,C,S){var F="";if(S){var R=new Date;R.setTime(R.getTime()+S*24*60*60*1e3),F="; expires="+R.toUTCString()}document.cookie=w+"="+(C||"")+F+"; path=/"}function ja(w){for(var C=w+"=",S=document.cookie.split(";"),F=0;F<S.length;F++){for(var R=S[F];R.charAt(0)==" ";)R=R.substring(1,R.length);if(R.indexOf(C)==0)return R.substring(C.length,R.length)}return null}function xi(){const w=localStorage.getItem("wholesale")=="1";h.toggleClass("show-whole-sales",w).toggleClass("hide-whole-sales",!w)}xi(),addEventListener("fullscreenchange",w=>h.toggleClass("is-full-screen",!!P.fullscreenElement));var Pt,Pi,Pe=_r.scrollWidth||0;window.removeStaticIntervalId&&clearInterval(removeStaticIntervalId),h.arrive("#static-html",B,w=>w&&w.parentNode&&w.parentNode.removeChild(w));const Ei=new IntersectionObserver(([w])=>{w.target.classList.toggle("is-stuck",w.intersectionRatio<1)},{threshold:[1]});h.arrive(".product-details__product-title.ec-header-h3, .ec-related-products__title.ec-header-h4, .details-product-option__title.ec-header-h6",at,w=>{Ei.observe(w),e(w).parent().leave(w,B,C=>{Ei.unobserve(C)})}),h.arrive(".clearboth, .ec-cart, #tile-feature-list-pK6rc9, .ec-footer, .ec-confirmation__continue",B,ca),Tr(w=>setTimeout(C=>P.arrive("a,img",at,S=>{S.addEventListener("click",_a,!0),S.addEventListener("contextmenu",Ti,!0)}),1e3));const va=xt.roundBorder;(function(w){w.fn.flowtype=function(C){var S=w.extend({maximum:9999,minimum:1,maxFont:15,minFont:1,fontRatio:25,target:""},C),F=function(R){const G=typeof S.maximum=="function"?S.maximum(this,R):S.maximum,Y=typeof S.minimum=="function"?S.minimum(this,R):S.minimum,V=w(S.target||R),X=V.width(),rt=X>G?G:X<Y?Y:X,z=rt/S.fontRatio,M=z>S.maxFont?S.maxFont:z<S.minFont?S.minFont:z;V.css("font-size",M+"px")};return w(this).each(function(){var R=this;w(window).on("resize",function(){F(R)}),F(this)})}})(Ne),e("#round-border").length||e(document.body).append(va);const Mt={};function ya(){Mt.Dx2={by:"REFURXgy",invoiceNumber:"I0R4Mg==",IBANEUR:"Uk84NEJUUkxFVVJDUlQwNTg3MjY5MDAx",IBANUSD:"Uk84OEJUUkxVU0RDUlQwNTg3MjY5MDAx",IBANRON:"Uk8zN0JUUkxST05DUlQwNTg3MjY5MDAx",name:"REFURXgyLkJJS0UgU1JM",address:"UGx1Z3VsdWkgNjVBLCA4MDUzMDAsIFRlY3VjaSwgR0wsIFJvbWFuaWE=",email:"REFURXgyLmJpa2VAZ21haWwuY29t",reg:"SjE3LzE0MDkvMjcuMDguMjAyMQ==",vat:"Uk80NDQ4NTg4OQ==",swift:"QlRSTFJPMjJYWFg=",paypal:"REFURXgyLmJpa2VAZ21haWwuY29t"},Mt.Dx2WD={by:"REFURXgyV0QuQklLRSBJTlRFUk5BVElPTkFM",invoiceNumber:"I0R4Mg==",IBANEUR:"Uk8zMUJUUkxFVVJDUlQwNjE0ODU4NTAx",IBANUSD:"Uk8zNUJUUkxVU0RDUlQwNjE0ODU4NTAx",IBANRON:"Uk84MUJUUkxST05DUlQwNjE0ODU4NTAx",name:"REFURXgyV0QuQklLRSBJTlRFUk5BVElPTkFMIFNSTA==",address:"UGx1Z3VsdWkgNjVBLCA4MDUzMDAsIFRlY3VjaSwgR0wsIFJvbWFuaWE=",email:"REFURXgyV0QuYmlrZUBnbWFpbC5jb20=",reg:"SjE3LzE0MDkvMjAyMQ==",vat:"NDQ4MTA5MDQ=",swift:"QlRSTFJPMjJYWFg=",paypal:"REFURXgyV0QuYmlrZUBnbWFpbC5jb20="},Mt.DxM={by:"REFURXgyIE1PQklMSVRZ",invoiceNumber:"I00=",IBANEUR:"Uk85NkJUUkxFVVJDUlQwQ0kwNDk3ODAx",IBANUSD:"Uk8xMUJUUkxVU0RDUlQwQ0kwNDk3ODAx",IBANRON:"Uk81MkJUUkxST05DUlQwQ0kwNDk3ODAx",name:"REFURXgyIE1PQklMSVRZIFNSTA==",address:"UGx1Z3VsdWkgNjVBLCA4MDUzMDAsIFRlY3VjaSwgR0wsIFJvbWFuaWE=",email:"REFURXgyV0QubW9iaWxpdHlAZ21haWwuY29t",reg:"SjE3LzE1ODIvMjAyMg==",vat:"NDY3MTc4NTM=",swift:"QlRSTFJPMjJYWFg=",paypal:"REFURXgyV0QubW9iaWxpdHlAZ21haWwuY29t"};for(var w in Mt){var C=Mt[w];for(var S in C)C.hasOwnProperty(S)&&(C[S]=atob(C[S]));C.iban=C.IBANEUR}return Mt}ya();function ki(w,C,S,F){const R=e(w);function G(){R.toggleClass("task-loading",!1)}const Y=Mt[C]||Mt["Dx"+C],V=Y.name,X=Y.iban;e(w).toggleClass("task-loading",!0).html(e("<img/>").addClass("qr-code").attr("src",`https://barcode.tec-it.com/barcode.ashx?code=EPCQRCode&multiplebarcodes=false&translate-esc=false&data=BCD%0A002%0A1%0ASCT%0ABTRLRO22XXX%0A${V}%0A${X}%0AEUR${S}%0A%0A${F} Boost your bike!%0AOrder ${F}%0APayment+for+${F}&unit=Fit&dpi=300&imagetype=Png&rotation=0&color=%231f9a2e&bgcolor=%23ffffff&codepage=Default&qunit=Mm&quiet=0&hidehrt=False&eclevel=H`).on("load",G).on("error",G))}function Ua(w){return w.items.reduce((C,S)=>({...C,[S.customSlug||S.autogeneratedSlug]:{id:S.id,sku:S.sku}}),{})}/*!ENDKnownCategorySlugs*/const Na=Object.values(de);window.currentPage={};function Ai(){return new Proxy(new URLSearchParams(window.location.search),{get:(S,F)=>S.get(F)}).variation}function ue(w){const C=window?.ec?.config?.baseUrl||"/products",S=location.pathname,F=S?.substring(C.length+1)?.toLowerCase(),R=et[F],G=/^\/(..\/)?products\/cart$/gi.test(location.pathname),Y=/page-type-(.*?)(?: |$)/gi.exec(Jt.className)?.[1],V={SEARCHPAGE:"SEARCH"},X=/.ecwid-productBrowser-(.*)/gi.exec(e(".ecwid-productBrowser")[0]?.className)?.[1]?.toUpperCase();let rt=de[F];if(Pt=/^\/(.?.?)\/?$/gi.exec(location.pathname)?"SITE":C==S||rt?"CATEGORY":R?"PRODUCT":G?"CART":V[X]||Y||"",!Pt){const j=location.pathname;/products\/cart/i.test(j)&&(Pt="CART"),/products\/checkout\/address/i.test(j)&&(Pt="CHECKOUT_ADDRESS"),/products\/checkout\/delivery/i.test(j)&&(Pt="CHECKOUT_DELIVERY"),/products\/checkout\/tax-information/i.test(j)&&(Pt="CHECKOUT_TAX_INFORMATION"),/products\/checkout\/payment/i.test(j)&&(Pt="CHECKOUT_PAYMENT_DETAILS"),/products\/checkout\/order-confirmation/i.test(j)&&(Pt="ORDER_CONFIRMATION"),/products\/account\/resetPassword/i.test(j)&&(Pt="ACCOUNT")}R&&(rt=de[R.defaultCategoryId]);const z=Ai(),M=R?.id||h.attr("product-id");return window.currentPage={type:Pt,productId:M,product:et[M]||R,sku:R?.sku,categoryId:rt?.id||R?.defaultCategoryId,category:rt,parentCategoryId:R?.parentCategoryId||rt?.[2],variationId:z,detected:!0,url:location.href,timestamp:Date.now()},w||(window.currentPage=currentPage),currentPage}window.Try=Try;function Ht(w,C){h.toggleClass("jsv-show-photos",!w).toggleClass("jsv-show-360",!!w),C!=null&&h.toggleClass("jsv-has-360",!!C)}window.destroyJSV=function(){window.jsv&&(Try(C=>Ht(!1,!1)),Try(C=>e(".jsv-toggle, .jsv-loader").remove()),Try(C=>jsv.destroy()),Try(C=>e(".pswp__sku-title").remove()),Try(C=>e(".details-gallery-index-0").removeClass("details-gallery-index-0")),Try(C=>e("#jsv-holder").removeClass("jsv-holder").removeAttr("id")),Try(C=>e("#jsv-image").removeAttr("style")),jsv=null)},Tt(w=>bi.splice(0,bi.length).forEach(C=>C.target.unbindArrive(C.callback)),!0);var Wa;async function wa(w){if(window.JavascriptViewer)w();else{const{initJSVViewer:C}=await import("./DATEx2.JSViewer.js");await C(),w()}}(function(w){w.fn.alterClass=function(C,S){if((C||"").indexOf("*")===-1)return this.removeClass(C),S?this.addClass(S):this;var F=RegExp("\\s"+C.replace(/\*/g,"[A-Za-z0-9-_]+").split(" ").join("\\s|\\s")+"\\s","g");return this.each(function(R,G){for(var Y=" "+G.className+" ";F.test(Y);)Y=Y.replace(F," ");G.className=w.trim(Y)}),S?this.addClass(S):this}})(Ne);function ba(){function w(C){const S=/(DATE |ğƒğ€ğ“ğ„ )([^\s]+)/gi.exec(C),F=S&&[S[1]||"",S[2]||""].join("")||_i(C)||"";return F&&!/(DATE |ğƒğ€ğ“ğ„ )/gi.test(F)?"\u{1D403}\u{1D400}\u{1D413}\u{1D404} "+F:F}Bt(C=>{P.arrive(".product-details__product-sku",at,F=>{F.listenTextObserver||(F.listenTextObserver=new MutationObserver((G,Y)=>{const V=e(".ec-breadcrumbs");G.forEach(X=>{const rt=w(e(X.target).text());rt&&rt!=V.attr("data-sku")&&V.attr("data-sku",rt)})}));const R=w(e(F).text());R&&e(".ec-breadcrumbs").attr("data-sku",R),F.listenTextObserver.observe(F,{characterData:!0,childList:!0})});const S=new ResizeObserver(F=>{for(let R of F){const G=e(R.target),Y=G.find(".ins-header__menu-inner"),V=e(".ins-header__icon.ins-header__icon--burger"),X=G.width()-(V.is(":visible")?0:V.width()),rt=Y.width();console.log(X,rt,"menu-overflowing",X<rt),e(".ins-header__row").toggleClass("menu-overflowing",X<rt)}});P.arrive(".ins-header__menu-wrap",at,F=>{e(F).parent().leave(".ins-header__menu-wrap",R=>{S.unobserve(R)}),S.observe(F)}),P.arrive("header.ins-tile--header .ins-control--pill",at,F=>e(F).attr("target","_blank")&&F.addEventListener("click",R=>{R.stopImmediatePropagation()},!0))})}ba(),Ecwid.setSignInProvider||(Ecwid.setSignInProvider=function(){}),(function(){let w="https://img.datex2wd.bike/360",C="https://cdn.jsdelivr.net/gh/DATEx2/360@main/",S="https://cdn.statically.io/gh/DATEx2/360/main/";var F="4k",R=0,G=0;function Y(t,r,i,o){let a=i?.folder;typeof i=="string"&&(a=i,i=o);let c=i?.url;if(a=a?.split(":")[0]||"",G+=r?1:0,R++,!(!t||!r)){var l={},n=t.split(" ");return n.map((s,d)=>{if(d)return null;var p=s.split(":");let u=et[p[0]]||et[p[1]]||et[p[0].replace(/^DATE-/,"")]||et["DATE-"+p[0]];const _=u?.slug,g=p[1]||u?.id||p[0],y=p[2];var f=n[0]?.split(":")[0];r.split(" ").forEach(A=>{let D=A.split("."),x=D[0],O=D[1],I=D[2];x in l?l[x+"."+O]={k:x,frames:O,cssFiles:I}:l[x]={k:x,frames:O,cssFiles:I}});let b=l[F]||l["3k"]||l[0];if(!b)return;let E=b.k,m=b.frames,v=b.cssFiles,k=(v>1?Array(parseInt(v)).fill(0).map((A,D)=>`${c||C}${i?.cssFolder||a||f}/${i?.css||a||f}.${m}.${E}.${D+1}.css`):[`${c||C}${i?.css||a||f}/${i?.css||a||f}.${m}.${E}.css`]).map(A=>A.replace(/[+]/g,"-")),T=[...new Set([...i?.className?.split(" "),"p-"+a,n.map(A=>"p-"+A?.split(":")[0])])].filter(Boolean).join(" ").replace(/[+]/gi,"-");return u?(u.variation=y,u.frames=m,u.name=p[0],u.slug=u.slug||_,u.css.push(...k),u.className=T):u={id:g,name:p[0],slug:_,variation:y,frames:m,url:" ",css:k,css360:i,className:T},i?.p&&(u.preload=i.p?.replace(/\$g/gi,"https://cdn.jsdelivr.net/gh/DATEx2")),(i?.t||i?.thumbs)&&(u.thumbs=(i.t||i.thumbs||[]).map(A=>/\.css$/i.test(A)?A:`${A}.css`)),u})}}const V={AIRFx3Gold:{id:544088790,sku:"AIRFx3-GOLD:544088790"},AIRFx3Black:{id:544404458,sku:"AIRFx3-BLACK:544404458"},BMx1MVP:{id:533586175,sku:"BMx1-MVP"},BMx1SUNDAY:{id:539662868,sku:"BMx1-SUNDAY:539662868:380783009"},BMx1UNITED:{id:539664626,sku:"BMx1-UNITED:624363333:380782551"},BMx1CROSSHAIR:{id:539713821,sku:"BMx1-CROSSHAIR:539713821:380751227"}};for(var X in V)V.hasOwnProperty(X)&&(V[X].SKU=ea("DATE "+V[X].sku?.split(":")?.[0]));var rt={};function z(t){return rt[t.type]||(rt[t.type]=new Promise(r=>{switch(t.type){case"PRODUCT":let i=t.product;const o=i?.id||t.productId;let a=et[o];if(a){i&&i.preload&&kr(i.preload,n=>{mt.toggleClass("product-css-loaded",!0),r(n)});const c=a.css||[],l=c&&c.length>0?c?.map(n=>/jsdelivr/i.test(n)?n:(/^\.?\/?thumbs/i.test(n)&&(n=n.replace(/\.?\/?thumbs/i,"thumbs")),""+n.replace(/\.css/g,Te?".css":".min.css").replace(/\.min\.min\.css/g,Te?".css":".min.css"))):["Thumbs/DATEx2.Thumbnails.css"];a.css="",kr(l.map(n=>n.startsWith("http")||n.startsWith("//")?n:`https://${Te?location.hostname:"img.datex2.bike"}/website/dist/css/${n}`),n=>{mt.toggleClass("thumbs-loaded",!0),r(n)})}break;default:r()}}))}function M(t){}var j,K;function Z(t){e(".has-video-buttons").toggleClass("show-video-buttons",!0),K|=t,clearTimeout(j),h.toggleClass("interacting-video",!0).toggleClass("interactive-video",!!K),j=setTimeout(r=>h.toggleClass("interacting-video",!1),3e3)}function _t(t){t=e(t),window.muted=!0;var r=["888327569?","888291558?","891246844?h=391d297fb8","888460156?h=b9044cb3dc","888459704?h=c5387031da","888458762?h=edbab347e0","888520349?h=1bddf57eb5"],i=r.map((x,O)=>O).shuffle(),o=0;function a(){player.off("timeupdate",a),h.toggleClass("video-auto-hide",!1),e("html").toggleClass("play-video playing-video",!0),e(".video-play-pause").toggleClass("paused",!1).toggleClass("playing",!0),Z(!1),W("[Player - PLAYING]")()}function c(){player.on("timeupdate",a)}window.onVideoLoaded=c;var l=x=>`https://player.vimeo.com/video/${x??r[i[o]]}&unmute_button=0&loop=0&autoplay=1&dnt=1&transparent=1&speed=0&vimeo_logo=0&muted=${muted?1:0}&colors=197b5000,42963500,FFFFFF00,00000000&portrait=0&pip=0&play_button_position=center&byline=0&controls=1&dnt=1&badge=0&#t=1s`,n=!1;function s(){W("Player - iframe loaded")(),n=!0,player==null&&D()}function d(){if(W("Player - creating iframe")(),h.toggleClass("video-auto-hide",!0),t.find("iframe").length)s();else{const O=l(),I=e(`<div class="vimeo video-background">
  <iframe id="main-video" frameborder="0" src="${O}" color="#60DC4D" background="true" allow="autoplay" allowfullscreen disablePictureInPicture width="100%" height="100%"></iframe>
</div>`).prependTo(t).find("iframe").on("load",s)[0].watching=O}}window.player=null;function p(){document.fullscreenElement?document.exitFullscreen():e("#tile-cover-HaXq6F .ins-tile__wrap")[0].requestFullscreen({navigationUI:"hide"})}window.onPlayerReady=function(O){if(e("#tile-cover-HaXq6F .ins-tile__buttons").find(".video-button").length)return!1;var I;function U(){clearTimeout(I),h.hasClass("show-buttons")||h.toggleClass("show-buttons",!0).toggleClass("hide-buttons",!1),I=setTimeout($=>h.toggleClass("show-buttons",!1).toggleClass("hide-buttons",!0),4e3)}P.arrive("iframe#main-video, #tile-cover-HaXq6F .video-container",at,$=>["mousemove","touchmove","touchstart"].forEach(Q=>$.addEventListener(Q,U,!0))),U(),P.arrive("#tile-cover-HaXq6F .ins-tile__buttons",at,$=>($.removeChild=function(){},e(xt.prevVideo()).appendTo($).find(".prev-video").on("click",k.bind(player,!1,!0)),e(xt.playVideo()).appendTo($).find(".play-video").on("click",T),e(xt.pauseVideo()).appendTo($).find(".pause-video").on("click",T),e(xt.nextVideo()).appendTo($).find(".next-video").on("click",v.bind(player,!1,!0)),e(xt.toggleVideoFullScreen()).appendTo(e(".ins-tile__buttons:first")).find(".toggle-video-full-screen").on("click",p),e(xt.unmuteVideo()).appendTo($).find(".unmute-video").on("click",function(){muted=!muted,player.setMuted(muted)}),e($).attr("data-allow-mismatch",1).toggleClass("has-video-buttons",!0),!0))};function u(x){x?.seconds>1&&f(!0)}function _(x){player.off("seeked",_),a()}function g(x){player.getMuted().then(O=>{O||f(!0)})}function y(x){h.toggleClass("playing-video",!x)&&h.toggleClass("paused-video",x)&&e(".video-play-pause").toggleClass("paused",x).toggleClass("playing",!x)}function f(x){function O(){muted=!1,player.setMuted(muted).then(I=>b({volume:1})),player.off("seeked",u),player.off("pause",f),player.off("timeupdate",g),setTimeout(I=>{Z(!muted)},10)}player.getPaused().then(y),x?O():player.getPaused().then(I=>I&&player.setVolume(A%2==0?.99:1).then(U=>{O()}).catch(U=>U)).catch(I=>I)}function b(x){player.getMuted().then(O=>{((muted=!!O||x.volume==0)||!0)&&(muted||e("#tile-cover-HaXq6F .has-video-buttons").toggleClass("show-volume-button",!0)||!0)&&e(".unmute-video").toggleClass("muted",muted).toggleClass("unmuted",!muted),!K&&!muted&&f(!0),Z(!muted)})}var E=0,m=2;function v(x,O){if(O==!0&&(E=0),o++,o>=r.length){if(++E>m)return;o=0}const I=l();player.element.watching=I,player.loadVideo(I)}function k(x,O){if(O&&(E=0),o--,o<0){if(++E>m)return;o=r.length-1}const I=l(r[i[o]]);player.element.watching=I,player.loadVideo(I)}async function T(){await player.getPaused().then(x=>x?player.play():player.pause())}var A=1;function D(){let x=P.getElementById("main-video");if(!x||player)return;if(!window.Vimeo)return setTimeout(D,20);player=new Vimeo.Player(x,{color:"#60DC4D",colors:["197b50","60DC4D","FFFFFF","008b4e"]}),W("Player created")(),Try(I=>navigator.mediaSession.setActionHandler("nexttrack",v.bind(player,!1,!0))),Try(I=>navigator.mediaSession.setActionHandler("previoustrack",k.bind(player,!1,!0))),player.on("volumechange",b),player.on("seeked",u),player.on("seeked",_),player.on("timeupdate",g),player.on("timeupdate",I=>player.element?.watching==player.element?.src&&(I.duration-I.seconds<2?v():0)),player.on("pause",f),player.on("ended",v.bind(player,!0));function O(I){W("progress",I)(),player.off("progress",O),c()}player.on("progress",O),player.on("pause",I=>y(!0)),player.on("play",I=>y(!1)),onPlayerReady(player)}n||(d(),D())}et.products.forEach(t=>{t.css360?.res&&Y(`${t.id}:${t.css360?.folder||t.slug}${t.css360?.aliases?" ":""}${t.css360?.aliases?t.aliases:""}`,t.css360.res,t.css360)}),ue(),Ae(currentPage,currentPage.product,t=>t),currentPage.type=="SITE"&&Io(currentPage),console.warn(`Done: ${Math.round(G*100/R)}% ${G} out of ${R}`);function dt(t){t=decodeUnicode(t).replace(/_/g,"+");var r=t.split("-");const i=ft(t);var o=!t||i==t?i:r.map((a,c)=>{if(a==="")return"";const l=ft(a);return l!==a?l:null}).filter(a=>a||a==="").join("-");return o=o?.toUpperCase()?.replace(/X(\d+)/g,"x$1")?.replace(/002C/,""),o}window.decodeUnicode=decodeUnicode,window.getMeaningfulCssClass=dt;const Vt=`BMX-Stem-Raiser:XXL
      Mounting-plate:XXL
    //Logo:XS
    //Air-Fork:S
    //Battery:XL
    //Crank:L
    //Crankset:XL
    //Display:XL
    //Double-Crown-Fork:S
    //Fenders:XL 
    //Frame-Logo:XS
    //Frame:XS
    //Grips-0026-Saddle:XL
    Handlebars:S
    //Inner-tubes:XXL
    //Lights-0026-Horn:XL
    //Mirrors:XL
    //Rack-0026-2nd-Battery:XXL
    //Rim-Tape-Color:S
    //Rim-tape:M
    Seatpost:L
    Saddle:XL
    //Tire-model:M
    //Tire-tools:L
    //Tires:XXL
    //Wheels:XL
    //X-TEMSx1-for-BMX:S
    //X-TEMSx1-Loader:S`.split(/[ \r\n]/).filter(t=>!t.startsWith("//")).map(t=>t.split(":")).reduce((t,r)=>({...t,[r[0].toLowerCase()]:r[1]}),{});function $t(t,r){if(r){h.alterClass("o-*");let o=Zt(),a=o?.name?.match&&o.name.match(/^(S|M|L|XL|XXL)$/);a=a&&a[1],e(".option-surcharge__value").forEach(l=>(l=e(l))&&l.text(l.text().replace(",00 "," ").replace(".00 "," ")));let c=e(".product-details-module.details-product-option");c.each((l,n)=>{let s=e(n),d=s.find(".product-details-module__content");if(a){let D=(s.attr("class")||"").match(/(?<=details-product-option--)(?!size\b)\w+(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?/gi),x=decodeUnicode(D[0]);x=x.replace("XS",a);let O=s.find(".details-product-option__title")[0].childNodes;O=O[O.length-1],O=e(O).wrap("<span class='title'/>").parent();const I=s.attr("class").replace(/XS/g,a);s.attr("class",I),O.text(O.text().replace("XS",a))}let p=s.attr("class")||"",u=p.match(/(?<=details-product-option--)(?!size\b)\w+(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?/gi),_=decodeUnicode(u[0]);if(_!=u[0]){p+=" details-product-option--"+ft(_),s.attr("class",p);var g=s.find(".product-details-module__title");g[0].lastChild.nodeValue=ft(g[0].lastChild.nodeValue)}var y=_.toLowerCase();let f=s.find(".product-details-module__content > *").length,b=y in Vt?f+""+Vt[y].replace(/[0-9]/g,""):"";if(!b){var E=d.find("label"),m=0;E.forEach((A,D)=>{const x=e(A.childNodes[0]);let O,I,U;if(O=x,a){const $=Array.from(O.text())[0];switch(a){case"S":I=14,U=9;break;case"M":I=18,U=13;break;case"L":I=26,U=17;break;case"XL":I=30,U=17;break;case"XXL":I=33,U=22;break}if(I){let Q=Array(U+1).join($);O.text(Q)}}m=Math.max(m,I||(D==0?0:Array.from(O.text()).length))});var v="M",k;switch(!0){case m<15:v="XS";break;case m<20:v="S";break;case m<28:v="M";break;case m<33:v="L",k=!0;break;case m<38:v="XL",k=!0;break;default:v="XXL",k=!0;break}b=f+v}d.toggleClass("po",!0),b&&(s.alterClass("go-*","go-"+b),d.alterClass("po-*","po-"+b)),k&&d.find(".form-control--checkbox-button .form-control__inline-label").each((D,x)=>{x=e(x);const O=x.html(),I=O.replace(/([ğ€ğğ‚ğƒğ„ğ…ğ†ğ‡ğˆğ‰ğŠğ‹ğŒğğğğğ‘ğ’ğ“ğ”ğ•ğ–ğ—ğ˜ğ™ğšğ›ğœğğğŸğ ğ¡ğ¢ğ£ğ¤ğ¥ğ¦ğ§ğ¨ğ©ğªğ«ğ¬ğ­ğ®ğ¯ğ°ğ±ğ²ğ³ğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ”ğŸ•ğŸ–ğŸ—])(?!.*[ğ€ğğ‚ğƒğ„ğ…ğ†ğ‡ğˆğ‰ğŠğ‹ğŒğğğğğ‘ğ’ğ“ğ”ğ•ğ–ğ—ğ˜ğ™ğšğ›ğœğğğŸğ ğ¡ğ¢ğ£ğ¤ğ¥ğ¦ğ§ğ¨ğ©ğªğ«ğ¬ğ­ğ®ğ¯ğ°ğ±ğ²ğ³ğŸğŸğŸğŸ‘ğŸ’ğŸ“ğŸ”ğŸ•ğŸ–ğŸ—])/gu,"$1<br/>");x.html(I)}),s.find(".form-control--checkbox-button.form-control").each((A,D)=>{var x=e(D),O=(x.attr("class")||"").split(" ").map(I=>{if(/details-product-option--.*/gi.test(I)){let U=I.substring(24),$=dt(U),Q=ft(_i(_)),J=ft(_);if(J=(/X-TEMSx1-for-BMX/i.test(J)?J:/X-TEMSx1-for-BMX-loader-clamp/i.test(J)?"X-TEMSx1-LOADER":Q||J)?.toUpperCase()?.replace(/X(\d+)/g,"x$1"),/ ğ•ğ„ğ„ğ±/.test(o?.product?.sku)&&/Tire-Model/i.test(J)){const vt=o.product.sku.replace(/.*(-ğ‘ğ„ğƒ|-ğğ‹ğ€ğ‚ğŠ|-ğ†ğğ‹ğƒ|-ğ†ğ‘ğ„ğ„ğ|$)$/i,(ot,ct)=>(ct=ft(ct),ct));$=`${$}${vt}`}return`og-${J} o o-${J}-${$} o-${$} ${I}`}else return I}).filter(Boolean).join(" ");e(D).attr("class",O)})}),c.length&&W("Font-measure","Font measured & options wrapped "+c.length)()}var i=e(t);i.each((o,a)=>{a=e(a);var c=a.parents(".form-control--checkbox-button"),l=(c.attr("class")||"").match(/(?<=details-product-option--)(?!size\b)\w+(?:-\w+)*/gi),n=a.parents(".product-details-module.details-product-option"),s=(n.attr("class")||"").match(/(?<=details-product-option--)(?!size\b)\w+(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?(-\w+)?/gi),d=[],p=s&&s.map(u=>{u=u.toUpperCase();var _=l&&l.map(g=>{var y=dt(g)?.toUpperCase();return y=ft(decodeUnicode(`so-${u}-${y}`)),y}).join(" ");return _&&d.push(_),decodeUnicode(`so-${ft(u)?.toUpperCase()}*`)}).join(" ");d=[...new Set(d.join(" ").split(" "))],h.alterClass(p,d)})}window.UpdateSelectedOptionCssClasses=$t;function nt(){return/(\/.?.?)?\/products/gi.exec(location.pathname)?.[1]||""}function Ee(){e(document).on("click",".product-details__product-options .form-control--checkbox-button",t=>{var r=e(t.target);r.hasClass("form-control--checkbox-button")||(r=e(r.parents(".form-control--checkbox-button")[0]));const i=r.attr("data-linked-product"),o=et[i],a=He.get(r[0]);if(t.ctrlKey&&(a||o)){t.preventDefault(),t.stopPropagation();const _=`https://${location.hostname}/products/${o?.slug||a?.id}`;window.open(_,"_blank");return}const c=r.find("input"),l=e(r.find("label")[0]?.childNodes[0]).text();let n="",s=!1;switch(Se(),!0){case(h.is(".p-X-TEMSx1-LOADER")&&r.is(".o-FOLDABLE-BMX-STEM-X-TEMSx1-FOLDx1")):{n=Jt.className.split(" ").find(T=>/^p-.*/gi.test(T)),n=n.replace(/-LOADER/,"").replace(/^p-/,"");break}case(h.is(".p-X-TEMSx1-SET")&&r.is(".o-FOLDABLE-BMX-STEM-NOT-INCLUDED")):{n=Jt.className.split(" ").find(T=>/^p-.*/gi.test(T)),n=n.replace(/X-TEMSx1-/,"X-TEMSx1-LOADER-").replace(/^p-/,"");break}case(h.is(".p-X-TEMSx1-SET")&&r.is(".o-X-TEMSx1-FOR-BMX-LOADER-CLAMP-NOT-INCLUDED")):case(h.is(".p-X-TEMSx1-SET")&&r.is(".o-X-TEMSx1-FOR-BMX-NOT-INCLUDED")):{n="X-TEMSx1-FOLDx1";break}case(h.is(".p-X-TEMSx1-SET")&&r.is(".o-X-TEMSx1-for-BMX-loader-clamp")):{n=Jt.className.split(" ").find(T=>/^p-.*/gi.test(T)),n=n.replace(/TEMSx1/,"TEMSx1-LOADER").replace(/^p-/,"");break}case((h.is(".p-X-TEMSx1-SET")||h.is(".p-X-TEMSx1-FOLDx1"))&&r.is(".og-X-TEMSx1")):{n=r[0].className.split(" ").find(T=>/^o-X-TEMSx1-.*/gi.test(T)),n=n.replace(/-LOADER/,"").replace(/^o-/,"").replace(/Not-included/i,"FOLDx1");break}case((h.is(".p-X-TEMSx1-FOLDx1")||h.is(".p-X-TEMSx1-SET"))&&r.is(".og-X-TEMSx1-FOR-BMX-LOADER-CLAMP")):{n=r[0].className.split(" ").find(T=>/^o-X-TEMSx1-FOR-BMX-LOADER-CLAMP.*/gi.test(T)),n=n.replace(/-FOR-BMX-LOADER-CLAMP/,"").replace(/^o-/,"").replace(/Not-included/i,"FOLDx1");break}case(h.is(".p-X-TEMSx1-FOLDx1")&&r.is(".og-X-TEMSx1")):{n=r[0].className.split(" ").find(T=>/^o-X-TEMSx1-.*/gi.test(T)),n=n.replace(/-LOADER/,"").replace(/^o-/,"").replace(/Not-included/i,"FOLDx1");break}case h.is(".p-HERO"):n=null,s=et[currentPage.productId];break;case(r.is(".og-TIRE-MODEL, .og-RIM-TAPE")&&h.is(".p-VEEx1F, .p-VEEx2F, .p-VEEx3F, .p-VEEx4F")):const _=r.parents(".details-product-option--Tire-Model").length,g=r.parents(".details-product-option--Rim-Tape").length,y=e(_?c:".details-product-option--Tire-Model input:checked").parent().attr("class")?.replace(/.*(o-TIRE-MODEL-(.*?)) .*/gi,"$2")||"",f=e(g?c:".details-product-option--Rim-Tape input:checked").parent().attr("class")?.replace(/.*(o-RIM-TAPE-(.*?)) .*/gi,"$2")?.replace(/NOT-INCLUDED/gi,"")||"";(_||g)&&(n=`${y.replace(/(VEEx\d)-/,"$1F-")}${f?"-":""}${f}`);break;case(r.is(".og-CRANKSET-COLOR, .og-CHAIN, .og-CRANK-REMOVER-TOOL")&&h.hasClass("p-CHx63T")):{const k=r.find("input"),T=ft(k.val());var d=r.parents(".details-product-option")[0],p=[];e(".product-details__product-options .form-control__radio:checked").each(($,Q)=>p.push(e(Q).closest(".o")[0]));const x=(p.map($=>{$=e($);var Q=e($.closest(".details-product-option")[0]==d?r:$).attr("data-linked-product");return Q}).map($=>ft(et[$]?.[1])?.replace(/^DATE /gi,""))?.filter($=>$)||[]).join("+"),O=et[x],I=O?.variation,U=O?.id;n=I||U||x}break;case(r.is(".og-REFLECTIVE-FRAME-LOGO-COLOR")&&h.is(".p-FRAMEx1-BLACK-GOLD, .p-FRAMEx1-BLACK-RED, .p-FRAMEx1-BLACK-YELLOW, .p-FRAMEx1-BLACK-BLUE, .p-FRAMEx1-BLACK-GREEN, .p-FRAMEx1-BLACK-TITANIUM, .p-FRAMEx1-BLACK-WHITE, .p-FRAMEx1-BLACK, .p-FRAMEx1-BLACK-BLACK")):n="FRAMEx1-BLACK:613413933"+ft(l);break;case!!i:const b=r.parent(),E=b.find(`[data-linked-product=${currentPage.productId}]`).length,m=/ğ•ğ„ğ„ğ±/.test(currentPage.sku),v=m&&r.is(".og-UNIT-TYPE");E&&!v?n=i:s=et[currentPage.productId];break;default:s=Zt();break}let u=s||et[n];if(u){let _=e(".details-product-option"),g=[];const y=r.parents(".details-product-option")[0],f=r.find("input")[0];_.forEach((E,m)=>{const v=y==E;E=e(E);const k=E.find("input[type=radio]"),T=k.findIndex(A=>v?A==f:A.checked);k.length&&g.push(T<0?1:T+1)});const b=parseInt(e(window).scrollTop())||parseInt(mt.scrollTop());if(s)history.replaceState({id:u.id},null,`${location.pathname}?options=${g.join(",")}${b?"&scroll="+b:""}`);else{t.preventDefault(),t.stopImmediatePropagation();const E=P.body,m=P,v=Math.max(E.scrollHeight,E.offsetHeight,m.clientHeight,m.scrollHeight,m.offsetHeight);mt.css("min-height",v);const k={id:u.id,options:g,queryString:b?[["scroll",b]]:null};u.variation&&(k.variation=u.variation),fa=!1,h.toggleClass("screen-loading",!0),localStorage.setItem("screen-loading","1"),kt(),setTimeout(T=>{const A=ft(u.slug||et[u.id]?.slug);if(A){const x=`${nt()}/products/${A}?options=${g.join(",")}&scroll=${b}`;location.href=x}else Ecwid.openPage("product",k)},10)}}})}function Zt(t,r){let i=null;!t&&!currentPage?.productId&&ue(),t=t||currentPage?.productId,r=r||currentPage?.variationId;const o=et;let a=o[r]||o[t]||o[i]||{name:i,id:t,variation:r};return t!=a?.id&&(a=o[t]||o[i]||{name:i,id:t,variation:r}),a&&(a.name||=et[a.id]?.[3]),a}window.getProductCodeFromCurrentUrl=Zt;function kr(t){var r=0,i=[],o=0;function a(){o++,o==r&&i.length&&i.forEach(c=>Try(c))}e(arguments).each((c,l)=>{typeof l=="function"?i.push(l):Array.isArray(l)?l.forEach(n=>{r++,ce[n]?a(n):(ce[n]=1,e("<link />").attr("type","text/css").attr("rel","stylesheet").attr("href",n).on("load",a).appendTo(le()))}):(r++,ce[l]?a(l):(ce[l]=1,e("<link />").attr("type","text/css").attr("rel","stylesheet").attr("href",l).on("load",a).appendTo(le())))})}function Si(t,r,i){var o=0;function a(){++o>=r.length&&i&&i()}e(r).each((c,l)=>{if(ce[l])a();else{ce[l]=1;let n=P.createElement("link");n.setAttribute("id",`js-CSS-${t?.trim()}${c||""}`),n.setAttribute("type","text/css"),n.setAttribute("rel","stylesheet");let s=function(){this.getAttribute("parsed")||(this.setAttribute("parsed",!0),this.removeEventListener("onload",s),setTimeout(a,0))};n.addEventListener("load",s),n.setAttribute("href",l),le().appendChild(n)}})}window.shouldHideScreenLoading=window.shouldHideScreenLoading??!0,window.canShowActionBar=window.canShowActionBar??!0,window.showActionBar=Dt,window.hideActionBar=wr,window.injectProductDetails=br,ia();const Ar=Object.getOwnPropertyDescriptor(Element.prototype,"scrollTop"),Ii=Element.prototype.scrollIntoView;Element.prototype.scrollIntoView=function(t){if(t?.dx2)return Ii.apply(this,arguments)};const Di={get:function(){return Ar.get.call(this)},set:function(t){_e||Ar.set.call(this,t)}};fr(Element.prototype,"scrollTop",Di),currentPage?.type=="SITE"&&window.addEventListener("scroll",t=>{Z(!1)},!0);var Or=null,Sr;window.addEventListener("scroll",t=>{if(_e){window.scrollTo(scrollX,scrollY),t.stopImmediatePropagation(),t.preventDefault();return}const r=Ft.scrollTop,i=Jt.scrollTop,o=r||i;(r>0||i>0)&&mt.toggleClass("show-arrow",!0);let a=Pi||(Pi=P.getElementsByClassName("ins-tile--header")[0]);if(r>80||i>80?(Ft&&!Ft.classList.contains("scrolled")&&Ft.classList.add("scrolled"),a&&!a.classList.contains("scrolled")&&a.classList.add("scrolled")):(Ft.classList.remove("scrolled"),a&&a.classList.remove("scrolled")),o<=1&&mt.hasClass("is-scrolled")?mt.removeClass("is-scrolled"):o>1&&!mt.hasClass("is-scrolled")&&mt.addClass("is-scrolled"),ee?.length){const c=ee?.[0]?.getBoundingClientRect()?.top,l=c<=60,n=c<=It.height()/2;l!==Or&&(Or=l,ee.toggleClass("stuck",l)),n!==Sr&&(Sr=n,ee.toggleClass("sticking",n))}},!0);function Ir(){ha(),e(".ins-tile__made-with").attr("style","display:none !important;visiblity:hidden;")}function Ri(t){var r=t.currency="EUR";console.info("order",t),Ecwid.OnSetProfile.add(i=>{console.info("customer",i);var o=t.cart,a={sandbox:{dx2:{email_address:"DATEx2.bike@gmail.com",merchant_id:"5WWPCHNKNJM4S",client_id:"AUsGl6cxRIdROHhAFlmM8kiL6P3SLGO52BqaI5_hI3PAHioKQlZmNVp6mVbg6Q91U_JC9J207qV1_NMq"},"2wd":{email_address:"DATEx2WD.bike@gmail.com",merchant_id:"28UZPZXCKY4KJ",client_id:"ATX4e-fw1RRrif-qfpgt5fqPRW6hkFh9q7Zop7--f56PFG_n9_gWbTt3EsvKMorazOzbvPgvhaHM9AI1"},dxm:{email_address:"DATEx2.mobility@gmail.com",merchant_id:"5WWPCHNKNJM4S",client_id:"AfSmxkxE4IJ2flQZij_0re7kgqTNFjQXodyAsPN-n2sjLXxHad68r2dzStuJiYWSfgXvWERUJwzivlPm"}}};return!1;var c,l,n})}function Fi(t,r,i,o){var a=t.currency,c="1234",l=i.shippingPerson,n=d=>(d=d||{},d.address_line_1=l.street,d.address_line_2="",d.admin_area_1=l.city,d.admin_area_2=l.city,d.postal_code=l.postal_code,d.country_code=l.countryCode,d),s={style:{layout:"vertical",color:"blue",shape:"rect",label:"paypal"},currency_code:a,purchase_units:[{amount:{currency_code:a,value:t.total,breakdown:{discount:{currency_code:a,value:t.discount},handling:{currency_code:a,value:t.handlingFee||0},insurance:{currency_code:a,value:t.insuranceFee||0},item_total:{currency_code:a,value:t.total},shipping:{currency_code:a,value:t.shipping},tax_total:{currency_code:a,value:t.tax}}},custom_id:i.cartId,orderId:c,description:"DATEx2 goodies",items:i.items.map(d=>{var p=d.product;return{name:p.name,quantity:d.quantity,unit_amount:{currency_code:a,value:p.price},category:"PHYSICAL_GOODS",description:p.shortDescription,sku:p.sku,custom_id:p.id}}),payee:{email_address:o.email_address},reference_id:null,shipping:{address:n({type:"SHIPPING"})},soft_descriptorstring:c}],createOrder:(d,p)=>(console.log("PayPal create-order",arguments,this),Mi(t,i,r,s,d,p)),onApprove:(d,p)=>(console.log("PayPal onApprove",d,this,arguments),Bi(t,i,r,s,d,p)),onCancel:d=>{console.log("PayPal onCancel",d,this,arguments)},onError:d=>{console.log("PayPal onError",d,this,arguments)},onShippingChange(d,p){console.log("PayPal onShippingChange",d,this,arguments)}};return s}function Mi(t,r,i,o,a,c){return c.order.create({payer:o.payer,purchase_units:o.purchase_units}).then(l=>l)}function Ve(t,r,i,o,a){a=e.extend({Authorization:`Bearer ${We}`,accept:"application/json","content-type":"application/json"},a);const c=`https://dev.datex2.bike/order?store=${fi}&orderIds=${i||""}&email=${o||""}&token=${We}`;return fetch(c,{method:t||"GET",headers:a,body:r&&JSON.stringify(r)}).then(l=>console.log(l)||l.json())}let Lt=[null],Xt=[null];var Xe=!1;Ecwid.OnAPILoaded.add(t=>Xe=!0);function xa(){return new Promise((t,r)=>{if(Lt[0])t(Lt[0]);else if(Lt.push({resolve:t,reject:r}),Lt.length==2){let i=function(){if(!Ecwid?.Cart?.calculateTotal||!Xe){setTimeout(i,50);return}Ecwid.Cart.calculateTotal(o=>{o&&(Lt[0]=o),Lt.splice(1,Lt.length).forEach(a=>o?a.resolve(o):a.reject(o))})};i()}})}function $i(){return new Promise((t,r)=>{if(Xt[0])t(Xt[0]);else if(Xt.push({resolve:t,reject:r}),Xt.length==2){let i=function(){if(!Ecwid?.Cart?.get||!Xe){setTimeout(i,50);return}Ecwid.Cart.get(o=>{o&&(Xt[0]=o);let a=0;o.items.forEach(c=>a+=c.quantity*c.product.price),o.total=a,Xt.splice(1,Xt.length).forEach(c=>o?c.resolve(o):c.reject(o))})};i()}})}let pe={};window.fetchProduct=function(r,i,o,a,c){const l=[r,i,o,a,c].join(":"),n=pe[l]||(pe[l]=[null]);return n[0]?new Promise((s,d)=>s(n[0])):pe[l][0]=new Promise((s,d)=>{n.push({resolve:s,reject:d}),!(n.length>2)&&(c=e.extend({Authorization:`Bearer ${We}`,accept:"application/json","content-type":"application/json"},c),fetch(`https://app.ecwid.com/api/v3/${fi}/products${i?"/":""}${i||""}?token=${We}&responseFields=${o||"id,sku,options"}`,{method:r||"GET",headers:c,mode:"cors",body:JSON.stringify(a)}).then(p=>console.log(p)||p.json()).then(p=>{let u=pe[l];u[0]=p,p?.options?.forEach(_=>_.choices?.forEach(g=>{var y={},f=g.textTranslated.cy,b=parseInt(f);if(f&&f!=" "){if(b)y.id=b;else if(typeof f=="string")try{f=f.replace(/'/g,'"'),y=JSON.parse(f)}catch{}}g.textTranslated.cy=y})),u.splice(1,u.length-1).forEach(_=>_.resolve(p))}).catch(p=>{let u=pe[l];u[0]=null,u.splice(1,u.length-1).forEach(_=>_.reject(p))}))})};function Dr(t,r){"mouseup click".split(" ").forEach(i=>{t.addEventListener(i,function(o){return o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),!1},!0)}),"click mousedown".split(" ").forEach(i=>t.addEventListener(i,function(o){o.stopPropagation(),o.stopImmediatePropagation();let a=h.attr("lang").toLowerCase();var c=this,l=e(".ec-cart-item__picture"),n=e.inArray(c,l);if(n<0&&(l=e(".ec-cart-item__title"),n=e.inArray(c,l)),n>=0&&n<r.length){var s=r[n],d=s?.product||s,p=s?.selectedOptions?s.selectedOptions.map(function(u){return{text:u.name,priceModifier:u.value}}).reduce((u,_)=>({...u,[_.text]:_.priceModifier}),{}):s?.options;fetchProduct("GET",d.productId||d.id,"id,sku,customSlug,price,options(type,name,choices(text,priceModifier,priceModifierType,textTranslated(cy)))").then(u=>{let _=u.options||[];const g=[],y=_.map(E=>{let m=E.name,v=p[m],k=E.choices?E.choices.findIndex(T=>T.text==v):null;return E.choices||g.push(["po--"+m.replace(/ /g,"-"),v]),k==null?null:k<=0?1:k+1}).filter(E=>E);kt();const b=`${nt()}/products/${u.customSlug}${y.length||g.length?"?":""}${y.length?"options=":""}${y.join(",")}${y.length&&g.length?"&":""}${g.join("&")}`;location.href=b})}}))}function Rr(t){t.expandProductOptions||(t.expandProductOptions=!0,t=e(t),t.click(r=>{r.offsetY<100&&t.toggleClass("expanded")}))}var Et=null;Tt(!0,t=>{Ut=!1,Et!=null&&(Et.disconnect(),Et=null)}),sa(!0,t=>{me(t?.productId,t,!0)});var Fr=0,ze={},Qe=new ResizeObserver(t=>{clearTimeout(Fr),Fr=setTimeout(ut,50)});Tt(t=>{e.each(ze,(r,i)=>{Qe.unobserve(i),delete ze[i]})},!0);function Mr(t){Qe[t]||(Qe.observe(t),ze[t]=t)}function qe(t,r,i,o,a,c,l,n){const s=e(c),d=s.find(".ec-cart-item__options > .ec-cart-item__option"),p=s.find(".ec-cart-item__count--select .form-control__select").val();X=r[l],d.each((_,g)=>{g=e(g);let y=g.find(".ec-cart-option--value"),f=g.find(".ec-cart-option--key"),b=e(y[0].firstChild).text(),E=e(f[0].firstChild).text()?.replace(/: ?$/,""),m=X.options.find(D=>(D.nameTranslated[n]||D.nameTranslated.en)==E),v="",k="";if(m?.choices){let D=m.choices.map(function(it){return{text:it.textTranslated[n]||it.textTranslated.en,priceModifier:it.textTranslated?.cy?.id==X.id?X.price:it.priceModifier,hasValue:!Yo.test(it.text)&&!!it.text,lp:it.textTranslated?.cy?.id}}),x=D.reduce((it,yt)=>({...it,[yt.text]:{priceModifier:yt.priceModifier,lp:yt.lp}}),{}),O=D.reduce((it,yt)=>({...it,[yt.text]:yt.hasValue}),{}),I=x[b],U=O[b];g.toggleClass("has-value",!!U).toggleClass("is-empty",!U);const $=et[I.lp],Q=$?.wholesalePrices?.findLast(it=>it.quantity<=p),J=(Q?.price||1)/(Q?.compareToPrice||Q?.price||1),vt=I.priceModifier||0,ot=Math.min(J,1-a.actualCartBasedDiscountPercent),ct=Math.max(Q?.price||0,($?.compareToPrice||$?.price||0)*ot,vt*ot)||vt||0;var T=$?.compareToPrice||$?.price||I?.priceModifier||0,A=T-T*a.discountPercent;discountedPrice=ct,v=discountedPrice>T||T==0?"":Ecwid.formatCurrency(Math.round(T))?.replace(".00","")?.replace(",00",""),k=discountedPrice==0||T==0||isNaN(discountedPrice)||isNaN(T)?"":Ecwid.formatCurrency(Math.round(discountedPrice<T?discountedPrice:T)).replace(".00","").replace(",00","")}v==k&&(v=""),f.uiNumber(v,"ui-number ui-cart-option-msrp","int",0,"","","",0,!0),y.toggleClass("loading-price",!1).uiNumber(k,"ui-number ui-cart-option-price","int",0,"","","",0,!0)});const u=d.filter(".is-empty").length>0;u&&(P.arrive(".ec-cart-item__options",{existing:!0},Rr),d.attr("data-index",_=>e(d[_]).is(".has-value")?_:1e3+_),d.sortElements((_,g)=>parseInt(e(_).attr("data-index"))<parseInt(e(g).attr("data-index"))?-1:1)),s.find(".ec-cart-item__options").toggleClass("expandable",u)}function Li(t,r){Ve("GET",null,t.vendorOrderNumber,t.customer.email).then(i=>{var o=i.items,a,c=i;i&&(c={total:i.total,subtotal:i.subtotal,discount:-i.discount,shipping:i.shipping||i.shippingOption&&i.shippingOption.shippingRateWithoutTax,tax:i.tax}),r.each((l,n)=>qe(n,o,i,a,c))})}function ji(t,r,i){W("summary","Fetching cart products")();var o=!1;or(i).then(a=>{W("summary","Fetched cart products")(),document.arrive(".ec-cart-item__price-inner",{existing:!0},s=>{s=e(s);var d=jt(e(".ec-cart-summary__cell.ec-cart-summary__price:first()").text()),p=jt(s.text()),u=te(d)||0,_=p-p*u,g=_!=p;s.toggleClass("ec-cart-item__price-without-discount",!0).toggleClass("ec-cart-item__price-with-discount",!1),s.toggleClass("has-discount",g);var y=s.parent().find(".ec-cart-item__price-with-discount");y.length||s.parent().append(y=s.clone().toggleClass("ec-cart-item__price-with-discount",!0)),y.toggleClass("hidden",!g).toggleClass("ec-cart-item__price-inner",!1).toggleClass("has-discount",!1),g&&y.text(Ecwid.formatCurrency(_))}),Ut=Pr(currentPage,s=>{h.arrive(".ec-cart__summary",B,d=>{c(i),h.arrive(".ec-cart-item__count--select .form-control__select, .ec-cart-item__control-inner",tt,n),ut(),Me(d),ie=!0,$e(),Dt()},Ut,me)});function c(s,d,p){if(!s){Ecwid.Cart.get(m=>{or(m,!0).then(v=>{c(m,d,p)})});return}o||(o=new MutationObserver(m=>{c()}),h.arrive(".ec-cart-summary__total",at,m=>{m.observing||(m.observing=!0,o.observe(m,{characterData:!0,attributes:!1,childList:!0,subtree:!0}))}));const u=h.attr("lang").toLowerCase(),_=r.find(".ec-cart__item"),g={total:s.total||jt(e(e(".ec-cart-summary__total:first")[0].childNodes[0]).text()||0)||0,subtotal:s.subtotal||jt(e(".ec-cart-summary__row.ec-cart-summary__row--items:first .ec-cart-summary__cell.ec-cart-summary__price:first").text())||0,discount:s.discount||jt(e(".ec-cart-summary__row--discount .ec-cart-summary__price:first").text())||0,shipping:s.shipping||jt(e(".ec-cart-summary__row--shipping .ec-cart-summary__price:first").text())||0,tax:s.tax||jt(e(".ec-cart-summary__row--taxes .ec-cart-summary__price:first").text())||0,paymentFee:s.paymentFee||jt(e(".ec-cart-summary__row--surcharge .ec-cart-summary__price:first"))||0,msrp:0,actualCartBasedDiscountPercent:0};g.vatPercent=Math.round(g.tax/(g.total-g.tax||1)*100,2),g.discountPercent=g?Math.abs(g.discount)/Math.abs(g.subtotal||1):te(subtotal)||0,g.paymentFeePercent=g.paymentFee/(g.total-g.paymentFee||1);function y(m){g.subtotal=0,g.msrp=0,s.items.forEach((v,k)=>{const T=v.p,A=T?.id||v.product?.id,D=k===d?p:parseInt(e(`.ec-cart-item__count-inner:nth(${k}) .form-control__select`).val())||v.quantity;if(g.msrp+=(T?.compareToPrice||T.price)*D,!T)g.subtotal+=v.product.price;else{const x=T.wholesalePrices?.findLast(Q=>Q.quantity<=D),O=(x?.price||0)/(x?.compareToPrice||1),I=Math.min(O,1-m),U=(x?.compareToPrice||T.compareToPrice||T.price)*I,$=U*D;g.subtotal+=$,T?.options?.forEach((Q,J)=>{const vt=Q?.selectedChoice,ot=vt?.textTranslated?.cy,ct=et[ot?.id],it=ct?.wholesalePrices?.findLast(ve=>ve.quantity<=D),yt=(it?.price||1)/(it?.compareToPrice||it?.price||1),oe=Q.selectedChoice?.priceModifier||0,lt=Math.min(yt,1-m),bt=ot?.id==T.id?0:Math.max(it?.price||0,(ct?.compareToPrice||ct?.price||0)*lt,oe*lt)||oe||0,qt=bt*D,ae=ot?.id==A?0:qt,Nt=ot?.id==A?0:(it?.compareToPrice||ct?.compareToPrice||it?.price||ct?.price||oe||0)*D;g.subtotal+=ae,g.msrp+=Nt})}})}y(0),g.actualCartBasedDiscountPercent=te(g.subtotal),y(g.actualCartBasedDiscountPercent),g.discount=Math.min(g.subtotal-g.msrp,0)+.1,g.discountPercent=-1+g.subtotal/(g.msrp||1),g.paymentFee=g.paymentFeePercent*(g.subtotal+g.shipping),g.total=g.msrp+g.shipping+g.discount+g.paymentFee,g.tax=g.total/(1+g.vatPercent/100)*g.vatPercent/100;const f={items:g.msrp,shipping:g.shipping,surcharge:g.paymentFee,discount:g.discount,discountPrecent:g.discountPercent,"items ec-cart-summary__body":g.total-g.tax,taxes:g.tax,total:g.total};e(".ec-cart__summary tbody:first").findOrCreate(".ec-cart-summary__row--discount",m=>`
              <tr class="ec-cart-summary__row ec-cart-summary__row--discount">
                <td class="ec-cart-summary__cell ec-cart-summary__title"></td>
                <td class="ec-cart-summary__cell ec-cart-summary__price"><span class="ec-cart-summary__price-minus"></span><span></span></td></tr>`).toggle(g.discountPercent<0).toggleClass("discount-patched").find(".ec-cart-summary__title").uiNumber((g.discountPercent*100).toFixed(2)+"%","ui-discount-percent","percent-number",0," (",")",null,null,null,!0).toggleClass("discount-patched");function E(m,v){const k=e(m);if(k.is(".ec-cart-summary__price-hidden"))return;const T=k.parent("tr"),A=k.find("span"),D=A.hasClass("ec-cart-summary__total")?e(A[0].firstChild).text():A.length?A.text():k.text(),x=/ec-cart-summary__row--(.*?)( |$)/gi.exec(T[0]?.className)[1]||"",O=f[x],I=O?Ecwid.formatCurrency(O):D,U=T.find(".ui-patched"),$=U.length?U:e('<td class="ec-cart-summary__cell ec-cart-summary__price ui-patched"></td>');$.uiNumber(I,`ui-summary-price ui-summary-price-${x}`,"number",0),!U.length&&k.toggleClass("ec-cart-summary__price-hidden",!0),!U.length&&T.append($)}e(".ec-cart-summary__cell.ec-cart-summary__price").each((m,v)=>E(v,m)),_.each((m,v)=>qe(r[0],a,null,s,g,v,m,u))}function l(s){const d=e(s.target),p=d.parent().find(".form-control__select-text"),u=parseInt(d.val()),_=p.text().replace(/\d+/g,u);p.text(_);const g=e(".ec-cart-item__count--select select").index(d);setTimeout(y=>c(null,g,u),10)}function n(s){s&&!s.countChanged&&(s.countChanged=!0,e(s).is(".ec-cart-item__control-inner")?s.addEventListener("click",d=>setTimeout(p=>c(),300),!0):s.addEventListener("change",l,!0))}})}function Ui(t){const r=aa(e(".ec-confirmation__email").text()||e(".ec-cart-step--email .ec-cart-step__text").text()),i={},o=[t.vendorOrderNumber,...e(".ec-confirmation__number").map((a,c)=>{const l=e(c).text().match(/#(@DATEx2-(.*))/i),n=l?.[2];return n&&(i[l[1]]=e(c).parents(".ec-cart__order")[0]),n})].filter(a=>a).filter((a,c,l)=>l.indexOf(a)===c);Ve("GET",null,o.join(","),r).then(a=>{a?.items?.length&&a.items.forEach(c=>{const l=c.items,n=c.id;Pt!="ACCOUNT"&&listen(l,c,null);const s=c.subtotal,d=c.subTotalWithoutTax,p=c.total,u=c.tax,_=c.totalWithoutTax,g=u*100/p,y=c.customerTaxExtempt,f=c.shippingOption.shippingRateWithoutTax,b=c.discount,E=c.couponDiscount,m=0,v=Ecwid.formatCurrency;function k(A){e(A).find(".payment-provider-total i").text(v(p));const D=e(A),x=D.hasClass("QR-Dx2")?"Dx2":D.hasClass("QR-DxM")?"DxM":"2WD";ki(A,x,p,n)}i[n].arrive(".QR",tt,k);function T(A){const D=e(e(A).find(".ec-confirmation__body .ec-confirmation__section + .ec-confirmation__section")[0]);D.hasClass("whatsapp")||(D.toggleClass("whatsapp",!0),D.html(D.html().replace(/(\+40745238005)/gi,"<a target='_blank' href='https://wa.me/$1'>$1</a>")))}P.arrive(".ec-confirmation__step--contactinfo",Be,T),e(".ec-confirmation").append(`<table class="ct ec-cart__summary ec-cart-summary ec-cart-summary--group-view"><tbody class="ec-cart-summary__body">
<tr class="ec-cart-summary__row ec-cart-summary__row--items"><td class="ec-cart-summary__cell ec-cart-summary__title ct-subtotal" title="Subtotal ${v(s)}"></td><td class="ec-cart-summary__cell ec-cart-summary__price"><span>${v(s)}</span></td></tr>
<tr class="ec-cart-summary__row ec-cart-summary__row--shipping"><td class="ec-cart-summary__cell ec-cart-summary__title"><span class="ec-cart-summary__text ct-shipping" title="Shipping costs ${v(f)}"></span></td><td class="ec-cart-summary__cell ec-cart-summary__price">${v(f)}</td></tr>
<tr class="ec-cart-summary__row ec-cart-summary__row--surcharge" style="display:${m?"block":"none"} !important"><td class="ec-cart-summary__cell ec-cart-summary__title ct-payment-fee" title="Payment fees ${v(m)}"></td><td class="ec-cart-summary__cell ec-cart-summary__price"><span>${v(m)}</span></td></tr></tbody><tbody class="ec-cart-summary__body">
<tr class="ec-cart-summary__row ec-cart-summary__row--items ec-cart-summary__body"><td class="ec-cart-summary__cell ec-cart-summary__title ct-total-wtax" title="Total, without fees ${v(_)}"></td><td class="ec-cart-summary__cell ec-cart-summary__price"><span>${v(_)}</span></td></tr>
<tr class="ec-cart-summary__row ec-cart-summary__row--taxes"><td class="ec-cart-summary__cell ec-cart-summary__title ct-vat-tax" title="VAT/TAX ${g.toFixed(0)}%"> ${g.toFixed(0)}% ${v(u)}</td><td class="ec-cart-summary__cell ec-cart-summary__price"><span>${v(u)}</span></td></tr></tbody><tbody class="ec-cart-summary__body"></tbody><tbody class="ec-cart-summary__body">
<tr class="ec-cart-summary__row ec-cart-summary__row--total"><td class="ec-cart-summary__cell ec-cart-summary__title ct-total" title="Total ${v(p)}"></td><td class="ec-cart-summary__cell ec-cart-summary__price"><span class="ec-cart-summary__total">${v(p)}<span class="ec-currency-converter-element ec-currency-converter-alt-value"> (${v(p)})</span><div class="ec-preloader ec-preloader--data ec-preloader--small"><div class="ec-preloader__item"><div class="ec-preloader__inner"></div></div><div class="ec-preloader__item"><div class="ec-preloader__inner"></div></div></div></span></td></tr>
<tr class="ec-cart-summary__row"><td class="ec-cart-summary__cell ec-cart-summary__note" colspan="2"><span data-tax-value="${u}" title="Incl. VAT ${g.toFixed(0)} ${v(u)}" class="ct-incl-vat-tax"> ${g.toFixed(0)} ${v(u)}</span></td></tr></tbody></table>`)})})}function $r(t,r){var i=e(".ec-cart__products-inner");t=t||currentPage,dr(t)?Li(t,i):ji(t,i,r)}function Lr(t,r){return t.toggleClass("ec-cart-step--done",r.is(".ec-cart-step--done")).toggleClass("ec-cart-step--current",r.is(".ec-cart-step--current"))}function Ni(t){t=e(t);const r=t.parent(),i=r.is(".ec-cart-step--email")||e("#ec-cart-step--email").parent().find("#"+t.attr("id")).length;isEmail=t.is("#ec-cart-step--email"),i||e("#ec-cart-step--email").parent().append(t=e(t.clone()));let o="";switch(t.attr("id")){case"ec-cart-step--email":o=H("Cart");break;case"ec-cart-step--address":o=H("Shipping & Delivery");break;case"ec-cart-step--delivery":o=H("Shipping method");break;case"ec-cart-step--tax-information":o=H("Tax information");break;case"ec-cart-step--payment":o=H("Payment");break}t.attr("title",o),(!i||isEmail)&&(r.classChange(a=>{a=e(a),Lr(t,a)}),Lr(t,r).toggleClass(t.attr("id"),!0))}function Wi(t,r){function i(l){Et!=null&&(Et.disconnect(),Et=null);var n=new MutationObserver(function(s){Ecwid.Cart.get(d=>$r(t,d))});n.observe(l,{characterData:!0,childList:!0,subtree:!0,characterDataOldValue:!0}),Et=n,$r(t,r)}function o(l,n,s){const d=e(l).parents(".ec-cart__products"),p=d.parent().find(".page-title__name");d.attr("data-title",e(p[t.type=="CART"||p.length==1?0:1]).text());var u=n;n&&(u={total:n.total,subtotal:n.subtotal,discount:-n.discount,shipping:n.shipping||n.shippingOption&&n.shippingOption.shippingRateWithoutTax,tax:n.tax}),qe(l,s.items,n,s,u)}const a=r.items,c={total:r?.total||0,subtotal:r?.subtotal||0,discount:r?.discount||0,shipping:r?.shipping||0,tax:r?.tax||0};P.unbindArrive(i),P.arrive(".ec-cart-summary__total",tt,i),P.arrive(".ec-cart-item__picture, .ec-cart-item__title",tt,l=>Dr(l,a)),P.arrive(".ec-cart-step__anchor",tt,Ni)}function Ge(t){P.unbindArrive(Mr),lr(t)&&(P.arrive(".ec-cart-item__image",tt,Mr),P.arrive(".ec-cart__summary, .ec-cart.ec-cart--empty",Be,Dt)),Et!=null&&(Et.disconnect(),Et=null),P.unbindArrive(Rr),P.unbindArrive(Dr),lr(t)&&(dr(t)?Ui(t):Ecwid.Cart.get(r=>{W("summary","Pre-fetching cart products")(),or(r,!0),Wi(t,r)}))}function Bi(t,r,i,o,a,c,l){return Ve("POST",{externalTransactionId:a.payerId,orderId:r.orderId,subtotal:t.subtotal,total:t.total,email:i.email,paymentMethod:"PayPal2",tax:t.tax,taxExempt:i.taxExempt,customerTaxId:i.taxId,customerTaxIdValid:i.taxIdValid,reversedTaxApplied:!1,paymentStatus:"AWAITING_PAYMENT",fulfillmentStatus:"AWAITING_PROCESSING",refererUrl:location.href,orderComments:t.comments,volumeDiscount:t.volumeDiscount,customerId:i.id,hidden:!1,membershipBasedDiscount:t.customerGroupVolumeDiscount,discount:t.discount,globalReferer:location.href,externalOrderId:l,items:r.items.map(n=>{let s=n.product;return{name:s.name,quantity:n.quantity,productId:s.id,categoryId:0,price:s.price,weight:s.weight,sku:s.sku,shortDescription:s.shortDescription,tax:s.tax,shipping:s.shipping,isPreorder:s.isPreorder}}),billingPerson:r.billingPerson||r.shippingPerson,shippingPerson:r.shippingPerson,shippingOption:t.shippingOption,handlingFee:{name:"Handling fee",value:t.handlingFee,description:"The cost to handle & pack this item"},additionalInfo:null}).then(n=>{var s=n.json();return s}).then(n=>n.orderId).then(n=>l)}function Pa(t){var r={},i=65,o=0,a,c=0,l,n="",s=String.fromCharCode,d=t.length;for(a="";91>i;)a+=s(i++);for(a+=a.toLowerCase()+"0123456789+/",i=0;64>i;i++)r[a.charAt(i)]=i;for(a=0;a<d;a++)for(i=r[t.charAt(a)],o=(o<<6)+i,c+=6;8<=c;)((l=o>>>(c-=8)&255)||a<d-2)&&(n+=s(l));return n}var ke=!1,Ye=!1,Hi=new Date;function Vi(t){var r=new Date;function i(a,c){if(!(!c&&new Date-r<300)){if(!c&&new Date-Hi<100)return setTimeout(i.bind(this,a),300);var l=h.hasClass("jsv-show-360")&&(window.jsv&&h.hasClass("jsv-full-screen")?e(a).isOnScreen():e(".details-gallery__thumb--active.details-gallery__thumb")[0]==e(".details-gallery__thumb:first")[0]);l?(r=new Date,jsv&&!jsv.isStarted&&At(1)):(r=new Date,kt()),Ht(l)}}function o(a,c){c.viewAlreadyBound||(c.viewAlreadyBound=!0,xe(c,l=>setTimeout(n=>i(l,a),500)),Cr(c,l=>setTimeout(n=>i(l,a),500)))}if(!Ye||!ke){let a=e(".details-gallery__picture:first").attr("src"),c=`.pswp__img[src*="${a?.replace(/\/(\d+)\.(.*)$/g,(l,n,s)=>`/${parseInt(n)-1}.${s}`)}"], .pswp__img[src*="${a?.replace(/\/(\d+)\.(.*)$/g,(l,n,s)=>`/${parseInt(n)-2}.${s}`)}"]`;if(Ye||(Ye=!0,h.on("click",".details-gallery__thumb",l=>{setTimeout(i.bind(l,c,!0),100)}),t&&setTimeout(i.bind(t,c),100)),!ke){if(!a){ke=!1;return}ke=!0,P.arrive(c,{existing:!0},o.bind(this,c))}}}window.detectWeAreOn360Image=Vi;function Ae(t,r,i){if(t.type=="PRODUCT"&&r)if(W("360","360 Loading css files")(),z(t),r.loaded)i&&i(r);else if("loading"in r)i&&r.loading.push(i);else{let a=function(){++o>=2&&(W("360","Loaded 360 files",r.loading)(),r.loaded=!0,r.loading.forEach(c=>c(r)),r.loading.splice(0,r.loading.length))};r.loading=i?[i]:[];let o=0;wa(a),Si(r.className,r.css,a)}return r}function Xi(t,r){const i=t?.id||r?.productId||currentPage?.productId,o=et[i];function a(c){const l=c[1],n=l.media.images,s="imageOriginalUrl",d=mt.findOrCreate("#images-preloader",f=>'<div id="images-preloader" style="opacity:0.0001;width:0;height:0;overflow:hidden;"/>');h.arrive(".details-gallery",tt,p);function p(f){f.arrive(".details-gallery__image-bg, .details-gallery__thumb-bg, .details-gallery__thumb-img",tt,_),f.arrive(".details-gallery__images-zoom",tt,g),f.arrive(".details-gallery__picture",tt,y)}function u(f){const b=f.closest('[class*="photoswipe-"]');if(b.length){const E=b.attr("class")?.match(/photoswipe-(?:thumb-)?index-(\d+)/);if(E)return parseInt(E[1],10)}return Math.max(0,f.parent().parent().parent().parent().children().index(f.parent().parent().parent())-1)}function _(f){f=e(f);const b=f.css("background-image"),E=u(f),m=n[E]?.imageOriginalUrl;if(m&&!b.includes(m)){const v=new Image;v.onload=()=>f.css("background-image",b.replace(/(https:\/\/.*?\/84625467\/)((?:products\/\d+\/)?)?(\d+)(\.[\w]+)/gi,m)),v.src=m}}function g(f){f=e(f);const b=f.css("background-image"),E=u(f),m=n[E]?.imageOriginalUrl;if(m&&!b.includes(m)){const v=new Image;v.onload=()=>f.css("background-image",b.replace(/(https:\/\/.*?\/84625467\/)((?:products\/\d+\/)?)?(\d+)(\.\w+)/gi,m)),v.src=m}}function y(f){f=e(f);const b=f.attr("src"),E=f.attr("srcset"),m=f.css("background-image"),v=u(f),k=n[v]?.imageOriginalUrl;if(k&&b&&!b.includes(k)){const T=new Image;T.onload=()=>{if(f.attr("src",k),E){const A=E.replace(/(https:\/\/.*?\/84625467\/)((?:products\/\d+\/)?)?(\d+)(\..*?)( )([0-9]+)(x)/gi,function(D,x,O,I,U,$,Q,J){return k+$+Q+J});f.attr("srcset",A)}if(m&&m!=="none"){const A=m.replace(/(https:\/\/.*?\/84625467\/)((?:products\/\d+\/)?)?(\d+)(\.[\w]+)/gi,k);f.css("background-image",A)}},T.src=k}}}}Xi();function jr(t,r){if(r&&r.type!="PRODUCT"){h.removeClass("jsv-show-photos jsv-swiping jsv-show-360 jsv-has-360");return}z(r).then(i=>{if(t){Ht(!1,!1),h.toggleClass("jsv-swiping",!0),e(".pswp__sku-title").remove();var o=e("<div/>").addClass("pswp__sku-title").text(e(".product-details__product-sku").text());e(".pswp__preloader").after(o),W("360","Page loaded::inject 360",t)(),Ae(r,t,a=>{function c(l){{let n=function(d){if(e(".details-gallery__images-carousel").length==0){destroyJSV();const u=e(".details-gallery__images-container")[0];u&&c(u)}},s=function(d){const p=e(".details-gallery__images-carousel"),u=e(".details-gallery__images-container")[0];p.length>1&&e(p[0]).hide()};if(l=e(l),!l.find(".details-gallery__image-wrapper-inner:first-of-type .details-gallery__picture:first-of-type").length){const d=l.find(".details-gallery__images-spacer")[0],p=e(".details-gallery__photoswipe-thumb-index-0"),u=p.find(".details-gallery__thumb-bg"),_=u.attr("style"),g=p.find("meta[itemprop=image]").attr("content"),y=p.find(".details-gallery__thumb-img"),f=y.css("background-image")?.replace(/image-set\((.*)\)/gi,"$1").replace(/url\(\"?(.*?)\"\)/gi,"$1").replace(/ (\d)dppx/gi," $1x");e(d.nextSibling).parent().append(e(`
  <div class="details-gallery__images-carousel" style="transform: translateX(0%)">
    <div class="details-gallery__image details-gallery__image--aspect-ratio-1333">
      <div class="details-gallery__image-spacer"></div>
      <div class="details-gallery__image-wrapper">
        <div class="details-gallery__image-wrapper-inner" style="max-width: 1500px; aspect-ratio: 1.33333 / 1; min-width: min(1500px, 100%); height: auto">
          <!---->
          <div
            class="details-gallery__image-bg details-gallery__image-bg--visible"
            style="${_}"></div>
          <div class="details-gallery__images-zoom" style="width: 0px; height: 0px; background-image: url('${g}')top: -27%; left: -89%"></div>
          <img
            src="${g}"srcset="${f}"alt="DATE AIRFx3-WHITE-GOLD the best 20x4&amp;quot; air double crown fork, Fork Model: \u{1D400}\u{1D408}\u{1D411}\u{1D405}\u{1D431}\u{1D7D1} \u{1D416}\u{1D407}\u{1D408}\u{1D413}\u{1D404}-\u{1D406}\u{1D40E}\u{1D40B}\u{1D403} 65cm, Handlebar: Not included, \u{1D417}-\u{1D413}\u{1D404}\u{1D40C}\u{1D412}\u{1D431}\u{1D7CF} for BMX: Not included, \u{1D407}\u{1D41E}\u{1D41A}\u{1D41D}\u{1D42C}\u{1D41E}\u{1D42D}: Not included"
            title='DATE AIRFx3-WHITE-GOLD the best 20x4" air double crown fork'
            width="1500"
            height="1125"
            loading="eager"
            class="details-gallery__picture details-gallery__photoswipe-index-0"
            itemprop="image"
            style="width: 100%"
          /><!---->
        </div>
        <!---->
      </div>
    </div>
  </div>
  `))}l[0].leave(".details-gallery__images-carousel",tt,n),l[0].arrive(".details-gallery__images-carousel",tt,s)}}P.arrive(".details-gallery__images-container",tt,c),P.arrive(".details-gallery__image-wrapper-inner:first-of-type .details-gallery__picture:first-of-type",Be,l=>{W("360","360 element arrived")();let n=e(l);var s=e("#jsv-holder");if(W("360","Injecting 360")(),!n.length){W("360","360 can't be injected",!n.length,s.length)();return}var d=e(".details-gallery__thumbs > .details-gallery__thumb:gt(3)"),p=d.length;d.each(function(){var m=e(this).find(".details-gallery__thumb-img-wrapper-inner");m.find(".details-gallery__thumb-shadow").length||m.append('<div class="details-gallery__thumb-shadow"></div>'),m.find(".details-gallery__thumb-more").length||m.append(e(`<div class="details-gallery__thumb-more">${p>1?"+":""}${p>1?p:""}</div>`).on("click",v=>{e(".details-gallery__image-bg")[e(".details-gallery__thumb-more").index(v.target)]?.click()})),p--}),n.attr("id","jsv-image"),s=n.parent().attr("id","jsv-holder").addClass("jsv-holder"),s[0].addEventListener("click",m=>{m.preventDefault(),m.stopImmediatePropagation()},!0);var u=e('<button class="jsv-toggle jsv-toggle-360"></button>');u[0].addEventListener("click",Qi,!0);var _=e('<button class="jsv-toggle jsv-toggle-full-screen jsv-enter-full-screen"></button>').on("click",Ke),g=e('<div class="jsv-loader"></div>'),y=e('<button class="jsv-toggle jsv-swipe-icon"></button>').on("click",zi);e(".details-gallery__wrap").append(e("<div/>").addClass("jsv-buttons").append(_,u).append(y,g)),s.addClass("jsv-holder").parent().addClass("details-gallery-index-0").on("click",function(m){return e(".ecwid-pswp").hide(),m.preventDefault(),m.stopImmediatePropagation(),!1});var f=window.jsv=new JavascriptViewer(e.extend({},{mainHolderId:"jsv-holder",mainImageId:"jsv-image",mainImageUrl:" ",imageUrlFormat:a.format,totalFrames:a.frames,defaultProgressBar:!1,reverse:!1,stopAtEdges:!1,zoom:!0,zoomWheelSpeed:20,zoomMax:5,inertia:0,speed:300,autoRotate:100,autoRotateSpeed:20,autoRotateReverse:0,autoCDNResizer:0,enableImageEvents:1,notificationConfig:{dragToRotate:{showStartToRotateDefaultNotification:!1}}},a.css360));let b=f.cancelCurrentActions;if(f.cancelCurrentActions=function(){return f.cancelledSince=new Date,b.apply(this,arguments)},Tt(destroyJSV),f){var E="";f.events().zoomChanged.on(m=>{const v=m.zoom.currentZoomScale,k=parseFloat(v.toFixed(1)).toString().substring(0,3);h.toggleClass("pswp--zoomed-in",v>1),e(".pswp--open").toggleClass("pswp--zoomed-in",v>1),e(".jsv-zoom-buttons-wrapper .ecwid-pswp-wrapper").toggleClass("pswp--zoomed-in",v>=m.zoom.zoomMax),e(".ecwid-pswp .pswp__button--zoom").attr("data-zoom",k+" x")}),f.events().loadImage.on(m=>{!navigator.isFirefox&&!navigator.isSafari&&m.img.parentNode&&(m.img.parentNode.style.display=m.currentImage==1?"block":"none");const v=m.percentage+"%";if(v!=E){E=v;var k=e(".jsv-loader").html(`<div class="loading-text"><div class="loading-360-text">${v}</div></div>`);setTimeout(T=>{e(".loading-bar").width(v).length||mt.append(`<div class="loading-bar" style="width: ${v}"></div>`),m.percentage>=100&&setTimeout(A=>{const D=e(".loading-bar").css("transition","none");setTimeout(x=>D.width(0)&&setTimeout(O=>D.css("transition",""),1),1),D.css("display","block").find(".loading-text").text("").toggleClass("t360-initializing",!0)},800)},1)}}),f.events().pinch.on(m=>{}),f.events().started.on(m=>{if(W("360","360 injected")(),W(!0,"Site loaded and 360 rendered")(),e(".pswp--open").length||(Ht(!0),h.toggleClass("jsv-swiping",!1)),m){const k=e(".jsv-loader").find(".loading-text").toggleClass("t360-initializing",!1).html('<h4 class="show-360-hint idle"><div></div></h4> <div class="drag-or-swipe-to-rotate idle"></div><div class="pinch-or-scroll-to-zoom idle"></div><div class="tap-more-pics idle"/></div>'),T=[".drag-or-swipe-to-rotate",".pinch-or-scroll-to-zoom",".tap-more-pics"];var v=0;setTimeout(function A(){const D=T[v],x=e(D).toggleClass("idle"),O=x.is(".idle");!O||v++<T.length?setTimeout(A,O?500:5e3):k.toggleClass("loaded",!0)},0)}}),f.events().click.on(m=>(At(),m=m.originalEvent,m.stopImmediatePropagation(),m.preventDefault(),!1)),f.events().endAutoRotate.on(m=>{(!f.manualStop||new Date-f.manualStop>200)&&At()}),f.events().doubleClick.on(m=>{Ke()}),f.events().scroll.on(m=>{const v=m.zoom,k=m.currentZoomScale,T=k!=1;v.previousZoomScale>1&&k==1&&(v.startSpinningTimeout=setTimeout(function(){v.startSpinningTimeout=0,At()},1e3)),(T||v.startSpinningTimeout)&&m.originalEvent.preventDefault(),T&&v.startSpinningTimeout&&(v.startSpinningTimeout=0,clearTimeout(v.startSpinningTimeout))}),f.events().pinch.on(m=>{}),f.start().then(()=>{h.toggleClass("jsv-has-360");var m=0;e(".jsv-toggle").show().on("click",function(){m=!m,e("#jsv-holder").css({"max-width":m?"100%":"50%","max-height":m?"100%":"720px"})})})}})})}})}window.inject360=jr;function Ea(t){t.type=="CART"&&(W("CART-TOTAL","calculating order total")(),Ecwid.Cart.calculateTotal(r=>{W("CART-TOTAL","calculated order total")(),setTimeout(Ri.bind(this,r),0)}))}function zi(){alert("You can swipe through the photos")}function Qi(t){t.preventDefault(),t.stopImmediatePropagation(),e(".pswp__ui--hidden").removeClass("pswp__ui--hidden");const r=h.hasClass("jsv-show-360"),i=h.hasClass("jsv-full-screen");return i&&!r&&e(".i0").css({"z-index":3,display:"block"}),Ht(!r),h.toggleClass("jsv-swiping"),e(".jsv-loader").toggle(r),r?kt():At(i?1:void 0),!1}function kt(){window.jsv&&(jsv.manualStop=new Date,jsv.cancelCurrentActions(),jsv.cancelCurrentActions())}function At(t){window.jsv&&!jsv.zoom?.isZoomed()&&(kt(),typeof t=="number"&&jsv.setCurrentImage(t),setTimeout(r=>jsv.autoRotate(100).then(i=>jsv&&!i&&jsv.cancelledSince<new Date-1e3&&setTimeout(At,1)),200))}window.stopJSV=kt,window.spinJSV=At;var Oe=null;h.on("click",".pswp__button--close.pswp__button--clone",t=>{Oe==null?Oe=h.is(".jsv-show-360"):(Ht(Oe),Oe=null),e(".pswp__button--close:not(.pswp__button--clone)")[0]?.click()});function Ke(){if(h.is(".jsv-show-360"))if(e(".pswp--open").length){let t=e(".pswp__button--close")[0];t&&t.click()}else{ar=!0;let r=e(".details-gallery__photoswipe-thumb-index-0 .details-gallery__thumb-more")[0];r&&r.click()}}window.toggleFullScreen=Ke;function Se(){const t=e(".product-details"),r=e(".details-product-purchase__qty-field input").val()||1,i=r<=0?1:r;var o=e(".product-details__product-weight:first"),a=t.find(" > .product-details__product-weight");a.length==0?t.append(o=o.clone()):o=a,e(".product-details__product-weight.details-product-attribute").length||(o.attr("order",0).toggleClass("details-product-attribute",!0),o.parent().toggleClass("product-attributes",!0));var c=0;e(".form-control__radio:checked").each((v,k)=>{const T=k.name=="Unit Type"&&/^ğ±ğŸ /.test(k.value)?0:parseFloat(e(k).parent().attr("data-weight")||0)||0;c+=T}),setTimeout(v=>o.toggleClass("has-weight-info",c>0),1);const l=c*2.20462,n=c>=1.2,s=n?c:"",d=n?"":c*1e3,p=c*i,u=p*2.20462,_=p>=1.2,g=_?p:"",y=_?"":p*1e3;function f(v,k,T,A,D){o.find(".details-product-attribute__value").uiNumber(T,`ui-number weight ${v}`,A,D,null,k,null,null,!0)}const b=H("lbs"),E=H("Kg"),m=H("gr");f("kg",E,s,"number",0),f("grams",m,d,"int",1),f("lbs",b,l,"number",2),o.attr("title",`${H("Total ")} ${u.toFixed(2)} ${b} / ${g?g.toFixed(2):y.toFixed(0)} ${g?E:m}`),e(".product-details__product-attributes").toggleClass("weight-loaded",!0)}function Je(){e(".details-product-option--Rim-Tape-Color").css({"max-height":e("#form-control__radio--125946051:checked")[0]?"100%":"0",overflow:"hidden",transition:"all 0.5s ease-in-out"})}window.setRimTapeColorFilterVisibility=Je;var Ur=e("<span/>").attr("id","js-measure-font").css({visibility:"hidden",float:"left","white-space":"nowrap"}).appendTo(le());window.getTextWidthDOM=function(r,i){const o=i||"12px arial";return Ur.text(r).css("font",o),parseFloat(getComputedStyle(Ur[0]).width,10)},e.fn.classChange=function(t,r,i){return e(this).each((o,a)=>{let c=new MutationObserver(l=>{l.forEach(n=>t&&t(n.target,e(n.target).prop(n.attributeName),c,n))});c.observe(a,{attributes:!0,attributeFilter:[r||"class"]}),i&&t(a)})};function te(t){return t<600?0:t<1e3?.05:t<1500?.1:t<2e3?.15:t<2500?.2:t<3e3?.25:t<5e3?.3:t<7e3?.35:.36}e(document).on("click .details-product-option--d825dc01 c05 c31 fd1 c02-36-spokes-1000W",Je);function Ie(t){return vr[t]?vr[t]:(ue(),z(currentPage),W("PRICE-API","Fetching product id "+t+" and total cart value")(),vr[t]=Promise.all([$i(t),fetchProduct("GET",t,"id,sku,price,compareToPrice,wholesalePrices,media(images(imageOriginalUrl)),options(type,name,defaultChoice,choices(text,priceModifier,priceModifierType,textTranslated(cy)))")]).then(r=>{const i=r[1];return i.priceWithDefaultOptions=i.price||0,i.options?.forEach(o=>i.priceWithDefaultOptions+=o?.choices?.[o?.defaultChoice||0]?.priceModifier||0),W("PRICE-API","Loaded product and cart total...",r)(),r}))}function Nr(t,r){W("PRICE","injectPriceUpdate arrived...")();function i(){let s=e(".product-details__product-price");setTimeout(l.bind(this,s[0],0),10)}function o(s,d,p,u,_=0,g=0,y=0){this.quantity=s,this.price=p,this.referencePrice=u||p,this.cartTotal=_,this.selectedOptionsReferencePrice=g,this.selectedOptionsDiscountedPrice=y,this.currentAddToCartQuantity=d}o.prototype={get compareToPrice(){return this.referencePrice||this.price||0},get unitPriceDiscountIncludingCartItems(){const s=1-this.price/(this.compareToPrice||this.price||1),d=this.quantity>this.currentAddToCartQuantity?this.cartAmountTotalPriceWithOptionsForVirtualQuantity:this.totalWithOptionsForCurrentAddToCartQuantity,p=te(d);return-Math.max(s,p)},get unitPriceWithCartTotalDiscountApplied(){return this.compareToPrice*(1+this.unitPriceDiscountIncludingCartItems)},get unitPriceWithCartTotalDiscountAppliedFormatted(){const s=this.unitPriceWithCartTotalDiscountApplied;return s?Ecwid.formatCurrency(s):""},get selectedOptionsPriceFormatted(){const s=this.selectedOptionsDiscountedPrice;return s?Ecwid.formatCurrency(s):""},get selectedOptionsDiscountWithCartTotalDiscountApplied(){const s=1-(this.selectedOptionsDiscountedPrice||1)/(this.selectedOptionsReferencePrice||this.selectedOptionsDiscountedPrice||1),d=te(this.cartAmountTotalPriceWithOptionsForVirtualQuantity);return-Math.max(s,d)},get selectedOptionsPriceWithCartTotalDiscountApplied(){return this.selectedOptionsReferencePrice*(1+this.selectedOptionsDiscountWithCartTotalDiscountApplied)},get selectedOptionsPriceWithCartTotalDiscountAppliedFormatted(){const s=this.selectedOptionsPriceWithCartTotalDiscountApplied;return Ecwid.formatCurrency(s)},get unitPriceWithSelectedOptionsWithCartTotalDiscountApplied(){const s=this.selectedOptionsPriceWithCartTotalDiscountApplied;return this.unitPriceWithCartTotalDiscountApplied+s},get unitPriceWithSelectedOptionsWithCartTotalDiscountAppliedFormatted(){const s=this.unitPriceWithSelectedOptionsWithCartTotalDiscountApplied;return Ecwid.formatCurrency(s)},get totalWithOptionsForCurrentAddToCartQuantity(){return(this.price+this.selectedOptionsDiscountedPrice)*this.currentAddToCartQuantity},get totalWithOptionsForCurrentAddToCartQuantityFormatted(){const s=this.totalWithOptionsForCurrentAddToCartQuantity;return Ecwid.formatCurrency(s)},get cartAmountTotalWithOptionsForCurrentAddToCartQuantity(){return this.cartTotal+totalWithOptionsForCurrentAddToCartQuantity},get totalWithOptionsForCurrentAddToCartQuantityWithCartTotalDiscountApplied(){const s=this.totalReferenceWithOptionsForCurrentAddToCartQuantity,d=this.discountPercentIncludingCartItems;return s*(1+d)},get totalWithOptionsForCurrentAddToCartQuantityWithCartTotalDiscountAppliedFormatted(){const s=this.totalWithOptionsForCurrentAddToCartQuantityWithCartTotalDiscountApplied;return Ecwid.formatCurrency(s)},get selectedOptionsReferencePriceFormatted(){const s=this.selectedOptionsReferencePrice;return Ecwid.formatCurrency(s)},get unitReferencePriceWithOptions(){return this.compareToPrice+this.selectedOptionsReferencePrice},get discountUnitPriceWithSelectedOptionsWithCartTotalDiscountApplied(){const s=this.unitReferencePriceWithOptions,d=this.unitPriceWithSelectedOptionsWithCartTotalDiscountApplied;return-Math.max(s-d,0)},get discountUnitPriceWithSelectedOptionsWithCartTotalDiscountAppliedFormatted(){const s=this.discountUnitPriceWithSelectedOptionsWithCartTotalDiscountApplied;return Ecwid.formatCurrency(s)},get totalReferenceWithOptionsForCurrentAddToCartQuantity(){return this.unitReferencePriceWithOptions*this.currentAddToCartQuantity},get totalReferenceWithOptionsForCurrentAddToCartQuantityFormatted(){const s=this.totalReferenceWithOptionsForCurrentAddToCartQuantity;return Ecwid.formatCurrency(s)},get referencePriceFormatted(){const s=this.compareToPrice;return Ecwid.formatCurrency(s)},get discountAmount(){return this.totalReferenceWithOptionsForCurrentAddToCartQuantity-this.totalWithOptionsForCurrentAddToCartQuantity},get discountPercent(){return-1+this.totalWithOptionsForCurrentAddToCartQuantity/(this.totalReferenceWithOptionsForCurrentAddToCartQuantity||this.totalWithOptionsForCurrentAddToCartQuantity||1)},get discountPercentText(){const s=this.discountPercent;return s?s.toFixed(1)+"%":""},get totalPriceWithOptionsForVirtualQuantity(){const s=this.price+this.selectedOptionsDiscountedPrice;return this.quantity*s},get cartAmountTotalPriceWithOptionsForVirtualQuantity(){const s=this.cartTotal,d=this.totalPriceWithOptionsForVirtualQuantity;return s+d},get discountPercentIncludingCartItems(){const s=te(this.cartAmountTotalPriceWithOptionsForVirtualQuantity),d=-this.discountPercent;return-Math.max(s,d)},get discountPercentIncludingCartItemsFormatted(){const s=this.discountPercentIncludingCartItems*100;return s?s.toFixed(0)+"%":""},get discountAmountIncludingCartItems(){return this.discountPercentIncludingCartItems*this.totalReferenceWithOptionsForCurrentAddToCartQuantity},get discountAmountIncludingCartItemsFortmatted(){const s=this.discountAmountIncludingCartItems;return s?Ecwid.formatCurrency(s):""}};var a,c;h.arrive(".details-product-wholesale__row",at,s=>{a||(clearTimeout(c),c=setTimeout(d=>{const p=e(".product-details__product-price");p&&l(p)},1))});function l(s){if(a)return;if(!Ecwid.formatCurrency){setTimeout(p=>l(s),50);return}a=!0,W("PRICE","Adjusting prices...")();let d=currentPage?.productId;Ie(d).then(p=>{let u=p[0]||{total:0},_=p[1],g=e(s),y=e(".details-product-purchase__qty input:first").val()||1;y=y<=0?1:y;const f=e(".details-product-options"),b=currentPage?.productId;var E=e(".details-product-price-tax__name").text().match(/.*\(([0-9]+)%.*/im),m=0,v=0,k=0,T=[];const A=[new o(1,1,_.price,_.compareToPrice,u.total),...(_.wholesalePrices||[]).map(q=>new o(q.quantity,q.quantity,q.price,_.compareToPrice,u.total))],D={};A.every((q,N)=>{const L=A[N-1],st=y>q.quantity&&N==A.length-1;return N&&y>L.quantity&&y<q.quantity||st?(A.splice(st?N+1:N,0,new o(y,y,q.price,_.compareToPrice,u.total)),!1):!0});const x=A.findLast(q=>q.quantity<=y);_?.options?.forEach(q=>{const N=!!q?.choices?.find(L=>L.textTranslated?.cy?.id==b);q?.choices?.forEach(L=>{const st=L.textTranslated?.cy,pt=f.find(`input[value="${CSS.escape(L.text)}"][name="${CSS.escape(q.name)}"]`),Ot=L.priceModifierType=="ABSOLUTE",gt=et[st?.id],wt=gt?.wholesalePrices||[];(!wt.length||!wt.find(ht=>ht.quantity==1))&&wt.splice(0,0,new o(1,1,Ot?gt?.price||L.priceModifier||0:(gt?.price||0)*L.priceModifier,gt?.compareToPrice||0,u.total));const Wt=wt.findLast(ht=>ht.quantity<=y)||{price:gt?.price||L.priceModifier||0,quantity:1};if(D[`${q.name}.${L.text}`]=new o(y,y,x.price,_.compareToPrice,u.total,Ot?gt?.compareToPrice||gt?.price||L.priceModifier||0:(_.compareToPrice||_.price)*L.priceModifier||0,Wt.price),pt.is(":checked")){const ht=L.textTranslated?.cy?.id==b;if(!N){A.forEach((Kt,je)=>{const Ce=wt.findLast(St=>St.quantity<=Kt.quantity)||{price:gt?.price||L.priceModifier||0,quantity:1};Kt.selectedOptionsDiscountedPrice+=Ce?.price||0,Kt.selectedOptionsReferencePrice+=Ot?gt?.compareToPrice||gt?.price||L.priceModifier:(_.compareToPrice||_.price)*L.priceModifier});const ne=wt.findLast(Kt=>Kt.quantity<=y)||{quantity:y,price:L.priceModifier},Ct=(ht?0:Ot?Math.max(st?.cp||0,L.priceModifier||0):Math.max(st?.cp||0,_.price||0)*L.priceModifier)||0,Rt=(ht?0:Ot?Math.min(ne?.price,L.priceModifier):_.price*L.priceModifier)||0;v+=Ct,k+=Rt,T.push({cp:Ct,p:Rt})}}})});const O=A.find(q=>q.quantity<=1),I=_.price||0;let U=e(".product-details__product-price-wholesale");!U.length&&A.length>1&&(U=e(`
<div class="product-details-module product-details__product-price-wholesale">
  <div class="product-details-module__title ec-header-h6 details-product-price-wholesale__title">${H("Buy more, save more")}</div>
  <div class="product-details-module__content product-details-module__content--indented">
    <div class="details-product-price-wholesale__container">
      <table class="details-product-price-wholesale__table">
        <thead>
          <tr class="details-product-wholesale__header">
            <td class="details-product-wholesale__column details-product-wholesale__column--qty qty">${H("Quantity")}</td>
            <td class="details-product-wholesale__column details-product-wholesale__column--price item-price">${H("Item")}</td>
        </tr>
        </thead>        
        <tbody>
${A.filter(q=>q.quantity>1).map((q,N)=>vt("row-qty-"+q.quantity+" row-index-"+N,"")).join("")}
        </tbody>
      </table>
    </div>
  </div>
</div>`).insertAfter(".product-details__action-panel.details-product-purchase"));let $=e(".details-product-price-wholesale__table thead tr");const Q=$.find(".details-product-wholesale__column--qty");Q.is(".qty")||Q.addClass("qty");const J=e(".details-product-price-wholesale__table tbody");function vt(q,N){return`
                  <tr class="details-product-wholesale__row ${q}">
                      <td class="details-product-wholesale__column details-product-wholesale__column--qty qty">${N}</td>
                      <td class="details-product-wholesale__column details-product-wholesale__column--price item-price"><span class"details-product__wholesale-price notranslate"></span></td>
</tr>`}J.find(".one-item-price").length||J.prepend(vt("one-item-price",1));let ot=J.find(".msrp-price");ot.length||J.prepend(ot=e(vt("msrp-price",H("MSRP"))));const ct=O.totalReferenceWithOptionsForCurrentAddToCartQuantityFormatted;ot.find(".item-price").uiNumber(O.referencePriceFormatted,"ui-item-price","number",0,H("Item price")).uiNumber(O.selectedOptionsReferencePriceFormatted,"ui-item-option-price","number",1,H("Options price")+" +").uiNumber(ct,"ui-item-total-price","number",2,H("Set unit price")),ot.toggleClass("loaded",!0);let it=I;e(A).each((q,N)=>{let L=J.find(`.details-product-wholesale__row${":gt("+q+"):first"}`);L.length||J.append(L=e(vt("row-qty-"+N.quantity+" row-index-"+q,""))),L.toggleClass("current-price",x==N);const st=L.prev(),pt=N.totalWithOptionsForCurrentAddToCartQuantityWithCartTotalDiscountAppliedFormatted;L.toggle(st.attr("total-price")!=pt).attr("total-price",pt);const Ot=L.find(".details-product-wholesale__column--qty").text(`${N.quantity}${N.quantity==1&&A[q+1]?.quantity==2?"":"+"}`);Ot.is(".qty")||Ot.addClass("qty"),L[0].clickQTY||(L[0].clickQTY=!0,L.on("click",ne=>e(".details-product-purchase__qty input").attr("maxlength",4).attr("pattern","\\d").attr("type","text").attr("max","9999").val(N.quantity).trigger("change").parent().find(".form-control__placeholder-inner").text(N.quantity)&&i()));const wt=!!N.selectedOptionsPriceWithCartTotalDiscountApplied,Wt=L.find(".details-product-wholesale__column--price:first");Wt.is(".unit-price")||Wt.addClass("unit-price"),Wt.uiNumber(ct,"ui-msrp-item-price","number",0,H("MSRP")).uiNumber(N.unitPriceWithCartTotalDiscountAppliedFormatted,"ui-item-price","number",1,H("Item price")).uiNumber(N.selectedOptionsPriceWithCartTotalDiscountAppliedFormatted,"ui-option-price","number",2,H("Options price")+" +").uiNumber(N.discountUnitPriceWithSelectedOptionsWithCartTotalDiscountAppliedFormatted,"ui-set-save","number",3,H("You save per set")).uiNumber(N.discountPercentIncludingCartItemsFormatted,"ui-discount-percent","percent",4,"",H("off")).uiNumber(N.unitPriceWithSelectedOptionsWithCartTotalDiscountAppliedFormatted,"ui-set-price","number",5,H("Set unit price")+" =").uiNumber(N.quantity,"ui-quantity","number",6,H("Quantity *"),H(N.quantity==1?"set":"sets")).uiNumber(N.totalWithOptionsForCurrentAddToCartQuantityWithCartTotalDiscountAppliedFormatted,"ui-total-price","number",7,H("Total")).uiNumber(N.discountAmountIncludingCartItemsFortmatted,"ui-total-save","number",8,H("You save in total"));const ht=L.find(".details-product__wholesale-off").uiNumber(N.discountAmountIncludingCartItemsFortmatted);ht.is(".discount-amount")||ht.addClass("discount-amount"),L.toggleClass("loaded",!0)});const yt=J.children("tr");for(;yt.length-1>A.length;)e(yt.splice(yt.length-1,1)[0]).remove();ot.find(".options-price,.total-price").toggle(!!x.selectedOptionsPriceWithCartTotalDiscountApplied),$.find(".options-price,.total-price").toggle(!!x.selectedOptionsPriceWithCartTotalDiscountApplied);function oe(q){k=0,_?.options?.forEach(N=>{const L=!!N?.choices?.find(st=>st.textTranslated?.cy?.id==b);N?.choices?.forEach(st=>{const pt=st.textTranslated?.cy,Ot=f.find(`input[value="${CSS.escape(st.text)}"][name="${CSS.escape(N.name)}"]`),gt=Ot.find("~ .form-control__inline-label"),wt=gt.parents(".form-control--checkbox-button"),Wt=pt?.lp||pt?.id;Wt&&wt.attr("data-linked-product",Wt),pt?.id&&wt.attr("data-render-product",pt?.id),He.set(wt[0],pt),wt.attr("data-sku",pt?.s||et[pt?.id]?.sku),wt.attr("data-weight",pt?.W),pt?.is==0&&Hr(wt.find(".form-control__radio"));const ht=pt?.id==d;{var ne=!0;const Kt=pt?.cp||st.priceModifier||0,je=D[`${N.name}.${st.text}`],Ce=je.unitPriceWithCartTotalDiscountApplied,St=Math.min(ht?Ce:st.priceModifier,ht?_.price:L?je.unitPriceWithCartTotalDiscountApplied:je.selectedOptionsPriceWithCartTotalDiscountApplied);var Ct=L?ht?Ce:st.priceModifier==0?!(ne=!1)&&Ce:St:St;L&&!ht&&!Ct&&(Ct=St,ne=!1);var Rt=gt.find(".option-surcharge__value");if(Rt.length||(gt.find("label").append('<span class="option-surcharge ec-text-muted"><span class="option-surcharge__bracket">(</span><span class="option-surcharge__value"></span><span class="option-surcharge__bracket">)</span></span>'),Rt=gt.find(".option-surcharge__value")),q){const Go=(ht?Ecwid.formatCurrency(Math.round(Ct)):(Ct>0&&ne?"+":"")+Ecwid.formatCurrency(Ct.toFixed(0))).replace(/[.,]00 /,"");Rt.uiNumber(Ct==0?"":Go,"ui-surcharge","int",null,null,null,null,1600);const Ue=Math.max(st?.priceModifier||0,Kt,0);St<Ue?Rt.attr("data-title",`${H("Was")} ${ta(Ecwid.formatCurrency(Ue))}\r
${H("Save")} ${Ecwid.formatCurrency(-Ue+St)}\r
${-Math.floor(100-St*100/Ue)}%\r
${H("Now")} ${Ecwid.formatCurrency(St)}`):Ct&&Rt.attr("data-title",Ecwid.formatCurrency(St))}else Rt.closest(".o").attr("amount",Ct)}})})}Ca(_),oe(!0);var lt=g.parents(".product-details__product-price-row");let bt=lt[0];const qt="product-details__product-price-row--zero-price",ae="product-details--zero-price";function Nt(){h.toggleClass(qt,e(".product-details__product-price-row").hasClass(qt)||e(".product-details--description-basic").hasClass(ae))}bt&&!bt.observeClasses&&(bt.observeClasses=!0,lt.classChange(Nt)),bt=e(".product-details--description-basic")[0],bt&&!bt.observeClasses&&(bt.observeClasses=!0,lt.classChange(Nt)),Nt(),lt.find(".details-product-price-compare__container.product-details-module__content").length||(g.find(".details-product-price__value").toggleClass("price-without-discount fade-in-out",!0),lt.append(e('<div class="details-product-price-compare__container product-details-module__content"><span class="details-product-price-compare__value ec-text-muted notranslate"></span> <span class="product-details__product-price-discount"><span class="details-product-price-discount__text"></span> <span class="details-product-price-discount__value notranslate"></span></span><span class="with-discount-percent fade-in-out"> <b></b></span><span class="details-product-price__value price-with-discount fade-in-out ec-price-item notranslate"></span></div>')));var ve=g.find(".price-without-discount"),Le=lt.parents(".product-details__sidebar"),Gt=Le.find(".details-product-purchase"),ui=Gt.find(".details-product-purchase__place"),pi=ui.text(),ye=lt.find(".product-details__product-price-taxes:first"),se=lt.find(".product-details__product-price-taxes:gt(0)");ye.hide(),se.length||(ye.length||e(".product-details__product-price-row .product-details-module__content").append(ye=e("<div/>").addClass("product-details__product-price-taxes ec-text-muted notranslate")),ye.after(se=e(ye.prop("outerHTML")).show().toggleClass("product-stock-status-and-original-price",!0)));var we=se.find(".in-stock-label");we.length||(we=we.length?we:e("<span />").addClass("in-stock-label").prependTo(se));var be=se.find(".price-without-discount");be=be.length?be:e("<span/>").addClass("details-product-price__value fade-in-out ec-price-item notranslate price-without-discount").appendTo(se),x.currentAddToCartQuantity=y;const mr=x.totalReferenceWithOptionsForCurrentAddToCartQuantityFormatted,gi=x.discountAmountIncludingCartItems,mi=x.discountAmountIncludingCartItemsFortmatted,hi=x.totalWithOptionsForCurrentAddToCartQuantityWithCartTotalDiscountAppliedFormatted,hr=x.discountPercentIncludingCartItemsFormatted;ve.text(mr),be.uiNumber(mr,"ui-price-msrp","number",0,"","","",600),be.toggleClass("show-price-without-discount",gi<0),we.text(pi?`${pi}. `:""),lt.find(".price-with-discount").uiNumber(hi,"ui-add-to-cart-total","number",0,"","","",600),e(".details-product-price-compare__value").text(Ecwid.formatCurrency(X)),lt.find(".with-discount-percent").length||lt.append('<span class="with-discount-percent"></span>');const Yt=e(".with-discount-percent");Yt.find(" > b").length||Yt.html(" <b></b>"),Yt.find(" > d").length||Yt.append("<d>(<v></v>)</d>"),Yt.find("> b, > d").toggle(gi<0),Yt.find(" > b").uiNumber(mi,"ui-discount-amount","number",0,"","","",600),Yt.find(" > d > v").attr("title",hr).uiNumber(hr,"ui-discount-percent","percent",0,"","","",600),vi(),W("PRICE",`Adjusted prices from ${mr} to ${hi}. Discounted: ${mi} (${hr}%)}`,s)(),r&&r()}).finally(p=>a=!1)}P.arrive(".product-details__product-price",at,s=>{var d=e(s);d.hasClass("price-live")||(d.toggleClass("price-live",!0),d.classChange(p=>setTimeout(u=>l(p),100)),l(s))});let n=e(".details-product-purchase__add-buttons");h.toggleClass("has-add-more-button",n.find(".details-product-purchase__add-more:visible")),P.arrive(".details-product-purchase__qty",B,s=>{if(s.wrapped)return;s.wrapped=!0,s=e(s),s.find("input").on("change",Se),e('<div class="quantity-nav"><button class="quantity-button quantity-up">&lt;</button><button class="quantity-button quantity-down">&gt;</button></div>').insertAfter(s.find(".form-control__placeholder"));const d=s.find(".quantity-up"),p=s.find(".quantity-down"),u=s.find("input:first"),_=s.find(".form-control__placeholder-inner"),g=u.attr("min"),y=u.attr("max")||999;u.val(_.text()||1);function f(){const b=u.val()||_.text()||"1";s.toggleClass("min",b=="1").toggleClass("one",b<10).toggleClass("two",b>=10&&b<100).toggleClass("three",b>=100&&b<1e3).toggleClass("four",b>=1e3)}u[0]?.addEventListener("change",f),u[0]?.addEventListener("focus",b=>{setTimeout(E=>{u.val()==""&&u.val(_.text())},1)},!0),f(),d.click(function(){var b=parseFloat(u.val()||_.text());if(b>=y)var E=b;else var E=b+1;u.val(E).trigger("change")[0]?.dispatchEvent(new Event("change")),_.text(E),f()}),p.click(function(){var b=parseFloat(u.val()||_.text());if(b<=g)var E=b;else var E=b-1;u.val(E).trigger("change")[0]?.dispatchEvent(new Event("change")),_.text(E),f()}),u[0]?.listenToQuanityChange||(u[0]&&(u[0].listenToQuanityChange=!0),u[0]?.removeEventListener("change",i),u[0]?.addEventListener("change",i))})}function qi(t,r,i,o){P.unbindArrive(".product-details__product-price")}var Wr;function Br(t){const r=this==!0;t.target?.touchEndTimeout&&(clearTimeout(t.target.touchEndTimeout),delete t.target.touchEndTimeout);let i=e(t.target);if(!i.hasClass("form-control__inline-label")){const a=i.find(".form-control__inline-label");i=a.length?a:i.parents(".form-control--checkbox-button:first").find(".form-control__inline-label")}const o=i[0];if(o){const a=e(o).find(".option-surcharge__value"),c=getComputedStyle(o,":after"),l=getComputedStyle(o,":before"),n=a[0],s=n&&getComputedStyle(n,":after"),d=c.backgroundImage!="none",p=t.touches&&t.touches[0],u=parseInt(l.width)||parseInt(l.minWidth)||300,_=parseInt(l.height)||parseInt(l.minHeight)||300*.75,g=(n?parseInt(s.width)||parseInt(s.minWidth):0)||100,y=(n?parseInt(s.height)||parseInt(s.minHeight):0)||100*.75,f=(p?p.pageY:t.pageY-It.scrollTop())||0,b="clientX"in t,E=(b?t.clientX:t.touches?.[0]?.clientX)||0,m=(b?t.clientY:t.touches?.[0]?.clientY)||0,v=E-o.getBoundingClientRect().left+i.outerWidth()+15,k=o.getBoundingClientRect(),T=m-k.top+i.outerHeight()+15,A=m-k.top+a.outerHeight()+15,D=It.height(),x=11,O=14,I=r||"offsetX"in t&&!t?.touches?.[0],U=I?null:t.target.getBoundingClientRect(),$=I?t.offsetX:t.touches[0].clientX-window.pageXOffset-U.left,Q=I?t.offsetY:t.touches[0].clientY-window.pageYOffset-U.top,J=!r&&d&&$>i.width()-64&&Q>=-1,vt=i.css("--display")||"none",ot=J?"flex":"none",ct=J&&vt==ot&&ot=="flex",it=ct?1:0,yt=ot=="none"&&vt!=ot,oe=i.outerWidth(),lt=(p?p.pageX:t.pageX)||0;let bt=Math.max(0,Math.min(It.width()-u-O-x,Math.max(v-u,lt-u-v/3))),qt=Math.max(125,Math.min(D-_-O,f+_+T<D?Math.min(f+T-80,D-_-T+i.outerHeight()):f-_-T)),ae=Math.max(0,Math.min(lt-g/2-x,It.width()-g-(f-y-T<65?64:5))-x),Nt=Math.max(0,f-y-T<65?Math.min(f+T-A,D-y-T-A):f-y-T+A);o.ht&&clearTimeout(i.ht),J&&!ct&&(e(".form-control--checkbox-button .form-control__inline-label[style*='--display: flex']").each((Le,Gt)=>{Gt!=o&&(e(Gt).css("--opacity",0),Gt.ht=setTimeout(ui=>{e(Gt).css("--display","none"),delete Gt.ht},301))}),Wr=setTimeout(Le=>{console.log("ping reply opacity set to 1"),i.css("--opacity",1)},1)),yt?(clearTimeout(Wr),bt=parseInt(i.css("--left")),qt=parseInt(i.css("--top")),ae=parseInt(i.css("--pleft")),Nt=parseInt(i.css("--ptop")),o.ht&&clearTimeout(o.ht),o.ht=setTimeout(Le=>{i.css("--display","none"),delete o.ht},301)):J&&o.ht&&(clearTimeout(o.ht),delete o.ht);const ve=`--display: ${o.ht?"flex":ot};--opacity: ${it};--left: ${bt}px;--top: ${qt}px;--pleft: ${ae}px;--ptop: ${Nt}px;`;if(i.attr("style",ve),ot=="block")return t.preventDefault(),t.stopImmediatePropagation(),!1}}function Hr(t){!t.parent().hasClass("details-product-option--Not-included")&&!t.parent().hasClass("details-product-option--Not-Included")&&t.attr("disabled","disabled").parent().toggleClass("out-of-stock form-control--disabled",!0)}function Gi(t){const r=t||currentPage.productId;if(currentPage.productId){const i=currentPage.productId;Ie(i).then(o=>{o=o[1];function a(s){const d=e(".details-product-options");o?.options?.forEach((p,u)=>{const _=!!p?.choices?.find(g=>g.textTranslated?.cy?.id==r);p?.choices?.forEach((g,y)=>{const f=g.textTranslated?.cy;var b=0;const E=d.find(`input[value="${CSS.escape(g.text)}"][name="${CSS.escape(p.name)}"] ~ .form-control__inline-label`),m=E.parents(".form-control--checkbox-button");(f?.lp||f?.id)&&m.attr("data-linked-product",f?.lp||f?.id),f?.id&&m.attr("data-render-product",f?.id),He.set(m[0],f),m.attr("data-sku",f?.s||et[f?.id]?.sku),f?.is==0&&Hr(E.parents(".form-control--checkbox-button").find(".form-control__radio"))})})}a(!1);let c=e(".form-control--checkbox-button .form-control__inline-label");function l(s){const d=s.target,p=e(d),u=p.find(".form-control__inline-label"),_=p.is(".form-control__inline-label")?d:u[0]||p.parents(".form-control__inline-label")[0],g=setTimeout(y=>Br.apply(!0,arguments),200);_&&(clearTimeout(_.touchEndTimeout),_.touchEndTimeout=g)}function n(s){const d=s.target,p=e(d),u=p.find(".form-control__inline-label"),_=p.is(".form-control__inline-label")?d:u[0]||p.parents(".form-control__inline-label")[0],g=setTimeout(y=>Br.apply(this,arguments),100);_&&(clearTimeout(_.touchEndTimeout),_.touchEndTimeout=g)}c.toArray().forEach(s=>{s.touchMoveEventRecorded||(s.touchMoveEventRecorded=!0,s.parentNode.addEventListener(Jo?"mouseover":"mousemove",n,!0),s.parentNode.addEventListener("touchstart",n,!0),s.parentNode.addEventListener("touchmove",n,!0),s.parentNode.addEventListener("touchend",l,!0),s.parentNode.addEventListener("touchcancel",l,!0),s.parentNode.addEventListener("mouseleave",l,!0),s.parentNode.addEventListener("mouseup",l,!0))})})}}var Vr=!1;function Yi(){Vr||(Vr=!0,h.on("mouseup",".product-details__product-options .form-control--checkbox-button",t=>{let r=e(".product-details__product-sku, .product-details__product-price, .product-details__attraction-block, .details-product-price-tax__value, .price-without-discount, .price-with-discount, .details-product-price-compare__value, .fade-in-out").toggleClass("fade-in-fade-out");r[0].registered||(r[0].registered=!0,r.on("animationend",function(){e(this).removeClass("fade-in-fade-out")}))}))}Yi();var ee=e(".ec-page-title.ec-page-title__featured-products");Tt(t=>ee=null),Tr(t=>ee=e(".ec-page-title.ec-page-title__featured-products"));function Ki(t){try{let r=e(".product-details__description img");if(r.length){let c=r.trigger("zoom.destroy").wrap('<span style="display:inline-block"></span>').css("display","block").parent();if(!c.zoom||!Ne.fn.zoom)debugger;else c.zoom({on:"click",touches:2})}}catch(r){console.error("Error while injecting zoom product description images",r)}}function Ji(t){document.body.scrollTo({top:e(".grid__wrap").offset().top-120+document.body.scrollTop,behavior:"smooth"})}var Xr=!1;function Zi(t){if(["CATEGORY","SEARCH"].indexOf(t?.type)>=0){let r=function(o){i(o),o.parentNode.leave(o,d=>i());const a=e(o).parent(),c=e(".ec-breadcrumbs"),l=e(".ec-grid .grid__categories"),n=!!l.length,s=e(".page-title__name.ec-header-h1").hide();c.toggleClass("has-sub-categories",n),n&&oa(l[0],(d,p)=>{e(".ec-breadcrumbs").toggleClass("hidden-categories",!p.isInView).toggleClass("visible-categories",p.isInView)})},i=function(o){const a=!!e(o||".grid__sort").length;h.toggleClass("has-grid__sort",a)};if(!Xr){let o=function(){e(".ec-filter--sortby .ec-filter__items-applied").text(e(".ec-filter--sortby .form-control__radio-wrap:has(.form-control__radio:checked) ~ .form-control__inline-label").text())};Xr=!0,h.on("change","#ec-products-sort",a=>{e(".ec-filter--sortby .ec-filter__items-applied").text(e("#ec-products-sort").children("option:selected").text()),gr(!0)}),h.on("change",".ec-filter--sortby .form-control__radio",o),P.arrive(".ec-filter--sortby",B,o)}P.arrive(".ec-grid",B,o=>{o=e(o),o.find(".ec-grid--title.ec-header-h1").length==0&&o.prepend(e("<h1 class='ec-grid--title ec-header-h1'/>").text(H("Categories")).toggle(!!e(".ec-grid .grid__categories.grid__categories--advanced").length))}),i(),P.arrive(".grid__sort",tt,r),P.mappedPagerScrolling||(P.mappedPagerScrolling=!0,P.arrive(".ec-pager .ec-link",at,o=>{o.mappedScrolling||(o.mappedScrolling=!0,o.addEventListener("click",Ji,!0))}),P.arrive(".grid-category__title",at,o=>{var a=e(o);if(a.attr("data-category-id")=="145967046"){a=a.find(".grid-category__title-inner");const c=a.html();c.indexOf("<br/>")<0&&a.css("font-weight","normal").html(c.replace("?","?<br/><b>")+"</b>")}}),(h.is(".page-type-PAGE-SEARCH")||t.type=="PAGE-SEARCH"||t.type=="SEARCH"||t.type=="CATEGORY")&&h.arrive(".ec-filters",B,o=>{e(o).classChange(a=>mt.toggleClass("ec-filters--opened",e(a).hasClass("ec-filters--opened")),"class",!0)}))}}function to(t){t.type==="CHECKOUT_ADDRESS"&&setTimeout(r=>{var i={},o={};let a="by:klcw11c email:tstnhnl invoiceNumber:jxano0b address:3a3d2hp vat:mrsrjxu reg:udat1x3 iban:k6uksav swift:buf0c9j paypal:oy8rr7w".split(" ").map(l=>{var n=l.split(":"),s=`.ec-form__row.ec-form__row--${n[1]}`;return i[n[0]]=e(`${s} input`),o[n[0]]=n[1],s}).join(",");Ecwid.Cart.get(function(l){console.log("cart",l)});const c=Mt.Dx2WD;for(const l in i)if(i.hasOwnProperty(l)){let n=o[l];ec.order.extraFields[n].value=c[l],i[l].val(c[l]).attr("value",c[l])}Ecwid.refreshConfig()},200)}const Ze=currentPage.productId;Ze&&Ie(Ze);function zr(t,r,i){t.type=="SITE"?P.arrive("#tile-footer-MNure7",B,o=>{o=e(o),Ko.pageLoaded||yi(t)}):t.type!="PRODUCT"||e(".product-details__product-options").length?yi(t):(t.tries++,setTimeout(zr.bind(this,t,r-1),i+1))}Ecwid.OnAPILoaded.add(()=>{var t=Ecwid.openPage,r=null;Ecwid.openPage=function(s,d){r=[s,JSON.stringify(d)].join(","),Try(destroyJSV),wr(),loggerTime={};var u=this,_=arguments;setTimeout(g=>{const y=parseInt(d?.id),f=Zt(y,d?.variant);if(f&&setTimeout(E=>Ae(page,f),20),Lt=[null],Ie(y),d?.queryString?.length){var b=history.pushState;history.pushState=function(E,m,v){return d.queryString.length&&(v+=(/[\?]/.test(v)?"&":"?")+d.queryString.map(k=>`${encodeURIComponent(k[0])}=${encodeURIComponent(k[1])}`).join("&")),history.pushState=b,b.apply(history,arguments)}}_e=d?.queryString?.findIndex(E=>E?.[0]=="scroll")>=0,t.apply(g,_)},50)};var i=!1;It.on("popstate",s=>{});var o=location.href;async function a(s){s.type;const p=new URLSearchParams(location.search).get("options");if(s.options=p?.split(",")||[],Ecwid,!i&&(i=!0,h.alterClass("page-type-*","page-type-"+s?.type),W("PAGE","Page navigating to",s?.type,s)(),Try(na,s),/products\/account/gi.test(o))){const u=o;setTimeout(_=>u==o&&i&&n(currentPage))}}if(Ecwid.OnPageSwitch&&Ecwid.OnPageSwitch.add(a),Ecwid.OnPageLoad.add(l),instantsite.onTileLoaded.add(s=>{/footer/i.test(s)&&(Ecwid.OnPageLoaded.add(n),n(ue()))}),Ecwid.getStorefrontState){debugger;var c=Ecwid.getStorefrontState()}ue();function l(s){h.alterClass("page-type-*","page-type-"+s?.type),la(s)}function n(s){if(s.type,o=location.href,!s.detected){const m=currentPage;if(currentPage=ue(),currentPage.url==o&&m?.url==o&&m?.timestamp-currentPage.timestamp<2e3)return}currentPage.type||(currentPage.type=s.type),currentPage.variationId=Ai(),i=!1,window.page=s,s.tries=1;var d=[],p=[],u=[];(e(".ec-store[class*=ec-store__]").attr("class")||"").replace(/ec-store__([a-zA-Z0-9_\-]+)/gi,function(m,v){return v.replace(/category-page--(\d*)|product-page--c(\d*)/gi,(k,T,A)=>p.push(T,A)),v.replace(/product-page--(\d*)/gi,(k,T)=>u.push(T)),d.push(...v.replace(/legal-page--(.*)/gi,"$1").replace(/legal-page/gi,"LEGAL TERMS").replace(/category-page/gi,"CATEGORY").replace(/product-page--c/gi,"CATEGORY--").replace(/product-page/gi,"PRODUCT").replace(/content-wrapper/gi,"").toUpperCase().split(" ")),m});const y=/^(\/.?.?\/?$|^\/$)/gi.exec(location.pathname)?"h page-type-SITE":"";p=p.filter(m=>m),u=u.filter(m=>m);const f=[y,...d.filter(m=>m).map(m=>"page-type-"+m)].join(" ").split(" ").filter(m=>m).join(" "),b=u.join(""),E=p.join(",");h.alterClass("page-type-*",f),b!=h.attr("productId")&&(b?h.attr("productId",b):h.removeAttr("productId")),E!=h.attr("categoryIds")&&(E?h.attr("categoryIds",E):h.removeAttr("categoryIds")),W("PAGE","Page loaded",s?.type,s,f)(),zr(s,100,10)}});let ge={};function zt(t,r,i,o){r in t?!o&&(t[r]=i):fr(t,r,{value:i,enumerable:!1,writable:!0,configurable:!0})}function tr(t,r,i,o,a,c,l){let n=ge[t]||(ge[t]={});zt(n,"callbackWhenAllArrived",c),zt(n,"startedAt",new Date,!1);let s=n[r]||(n[r]={}),d;s[o]=d=s[o]||{completed:!1,selfUnbindOnUnload:i,destroyCallback:a,whenArrive:p},d.completed=!1,zt(d,"startedAt",new Date,!1),W(!0,`Injecting [${r}]...`)();function p(u){o(u,_=>{zt(d,"completedAt",new Date,!1),zt(d,"completedDuration",d.completedAt-d.startedAt,!1),d.completed=!0,W(d.completedDuration,`Injecting [${r}] completed`)(),"completedTimeout"in n?clearTimeout(n.completedTimeout):fr(n,"completedTimeout",{enumerable:!1,writable:!0,value:0}),n.completedTimeout=setTimeout(g=>{let y=0,f=0;for(let b in n){let E=n[b];for(let m in E){let v=E[m];if(f++,!v.completed)return;y++}}zt(n,"completedAt",new Date,!1),zt(n,"completedDuration",n.completedAt-n.startedAt,!1),y>=f&&n.callbackWhenAllArrived&&(n.callbackWhenAllArrived(t,n,y),delete n.callbackWhenAllArrived)},5)})}P.arrive(r,{existing:l,onceOnly:!0},p)}function eo(){for(var t in ge){let o=ge[t];for(var r in o){let a=o[r];for(var i in a){let c=a[i];c.selfUnbindOnUnload&&P.unbindArrive(r,B,c.whenArrive),c.destroyCallback&&c.destroyCallback(r,t,o,a),delete a[i]}delete o[r]}delete ge[t]}}Tt(!0,t=>eo);function De(t,r,i){Dt()}function ro(t,r){var i=e(".ec-wrapper .ec-store__product-page");i.children(".menu-wrapper").length||(i.append(xt.menuWrapper()),i.find(".menu__item svg").each((o,a)=>a.addEventListener("click",function(c){var l=e(c.target);return console.log("clicked",c.target,l.hasClass("menu__item"),l[0],l.parents(".menu__item")[0]),so(c,l.hasClass("menu__item")?l[0]:l.parents(".menu__item")[0])},!0))),r&&r()}function io(t,r,i,o){e(".ec-wrapper .ec-store__product-page").find(".menu-wrapper, .action-buttons").remove()}function oo(t,r,i,o){e(".action-buttons .details-product-purchase__controls").remove()}function ao(t,r){var i=e(t).parent();P.arrive(".action-buttons",B,o=>{let a=e(o);a.children(".details-product-purchase__controls").length||(a.append(t),i.append(t.outerHTML)),r&&r()})}function me(t,r,i){h.arrive(".ec-size",{existing:!1,onceOnly:!0},o=>{Qr.call(o,o.className),Try(ir,o,Qr)}),Bt(o=>{setTimeout(a=>P.arrive(".ec-store__product-page",B,c=>{Ut=!0,tr("AB",".details-product-purchase__controls",!0,ao,oo,De,i),tr("AB",".product-details__sidebar .product-details__product-title.ec-header-h3",!0,ro,io,De,i),Try(No,i),Try(Bo,t,r,i),P.arrive(".product-details__product-weight",at,l=>{setTimeout(Se,200)})}),300)})}var er=!0,rr=0;function so(t,r){t.stopImmediatePropagation(),t.preventDefault();var i=e(".menu"),o=e(r||this);i&i[0].style.removeProperty("--timeOut");function a(n){h.alterClass("show-tab-*",n)}var c=o.attr("action"),l=e(".product-details__sidebar .product-details__product-title");switch(c){case"toggle-tab-image":const n=h.hasClass("show-tab-small-image"),s=h.hasClass("show-tab-full-image"),d=h.hasClass("show-tab-image");let p=0,u;n?(h.toggleClass("show-tab-image show-tab-small-image",!1).toggleClass("show-tab-full-image",!0),p=100,u=0):s?(h.toggleClass("show-tab-image",!0).toggleClass("show-tab-small-image show-tab-full-image",!1),p=e(window).scrollTop()>0?30:100,u=2):d?(h.toggleClass("show-tab-image show-tab-full-image",!1).toggleClass("show-tab-small-image",!0),u=1):(h.toggleClass("show-tab-image"),u=""),localStorage.setItem("show-tab-image",u?.toString()),fe(p),o.toggleClass("active");break;case"toggle-tab-warranty":break;case"toggle-tab-fav":h.toggleClass("show-tab-fav");let _=e(".favorite-product__button-add:visible button, .favorite-product__button-saved:visible button");_.length&&_[0].click();break;case"toggle-tab-options":{const g=Jt.scrollHeight>=Ft.scrollHeight?window:Ft,y=e(".details-product-option"),f=yr;(rr++<y.length?y[rr-1]:y[rr=0]).scrollIntoView(f)}a("options");break;case"toggle-tab-description":{const g=Jt.scrollHeight>=Ft.scrollHeight?window:Ft,y=yr,f={dx2:!0,behavior:"smooth",block:"end"},b={actual:{target:e(".product-details-module.product-details__general-info")[0],behavior:y},general:{target:e(".product-details__product-description")[0],behavior:y}},E={general:{target:e(".product-details__sidebar")[0],behavior:y},actual:{target:e(h.is(".show-tab-full-image")?".secondary__description":".product-details__product-description")[0],behavior:y}},m=It.width()>767.5,v=(m?E:b)[er?"actual":"general"];v.target.scrollIntoView(v.behavior),er=!er,a("description");break}default:a("options");break}}function Qr(t){if(t){var r=h.outerWidth(),i=[];r<414&&i.push(" ec-size--xs"),r<768&&i.push(" ec-size--s"),r<768&&i.push(" ec-size--m"),r<1024&&i.push(" ec-size--l"),r<1100&&i.push(" ec-size--xl"),r<1440&&i.push(" ec-size--xxl");var o=t.replace(new RegExp(i.join("|"),"gi"),"");r<=768?/ecwid-lte-768px/.test(o)||(o=o.replace(" ec-size"," ecwid-lte-768px ec-size")):/ecwid-gt-768px/.test(o)||(o=o.replace(" ec-size"," ecwid-gt-768px ec-size")),t!=o&&(this.className=o,console.log("Class attribute changed to:",t,o))}}function no(t){let r=/pswp--open/.test(t),i=h.hasClass("jsv-full-screen");r&&!i&&wr(),!r&&i&&Dt(),h.toggleClass("jsv-full-screen",r)}function ir(t,r,i){i=i||"class";var o=e(t);if(o.length){var a=!1,c=new MutationObserver(function(l){l.forEach(function(n){if(!a){a=!0;try{var s=e(n.target).prop(n.attributeName);r.call(n.target,s)}finally{a=!1}}})});c.observe(o[0],{attributes:!0,attributeFilter:[i]}),r(o.attr(i))}}window.fixFormFactor=function(){e(".menu").css("--timeOut","none")};function Re(t){var r=e(`#${t}`);return r.length||(r=e(`<style id='${t}' type='text/css'></style>`),mt.append(r)),r}var co=t=>{var r=e("#measure");let i=e("h1.product-details__product-title"),o=i.parent();return r=r.length?r:e("<div/>").attr("id","measure").css({opacity:"0","font-family":"var(--global-title-font-family-stack)","font-weight":"bold","font-size":"var(--product-details__product-title--font-size)",position:"fixed",left:0,right:0,bottom:0}).wrap(e("<div></div>").css({"font-size":o.css("font-size"),"line-height":o.css("line-height")})).parent().find("#measure"),r.css({"font-size":t,"padding-left":i.css("padding-left"),"padding-right":i.css("padding-right"),"line-height":e(window).scrollTop()>0?"24.048px":"29.76px"}),r};function qr(t){const r=e("h1.product-details__product-title"),i=e("div.product-details__product-title");let o=t===void 0?r.is(":visible")?r.height():i.height():t;Re("js-css-product-options").text(`#tile-product-details { 
        --product-details__product-title--height: ${o}px;
}`)}function he(t){e("html").toggleClass("product-details-large-options",e(".product-details__sidebar").height()>e(window).height());const r=e("h1.product-details__product-title.ec-header-h3"),i=e("div.product-details__product-title"),o=r.is(":visible")?r:i;if(o.length){var a=co(t).text(o.text());setTimeout(function(){var c=a.height()||o.height();qr(c)},1),setTimeout(qr,Math.round(parseFloat(window.getComputedStyle(r[0]).transitionDuration)*1e3))}}window.determineProductDetailsLargeOptions=he;function fe(t){h.hasClass("show-tab-full-image")&&(t=100);var r=1+t/100*(1.6-1);let i=Re("js-css-product-gallery");window.jsv&&(kt(),setTimeout(function(){At()},300));let o="";e(window).width()<=1e3,i.text(`.show-tab-image #tile-product-details { 
                    --product-details__product-options--extra-margin-top: ${t==100?0:(t+22)*3/4}vw;
                    --product-details__product-title--font-size: ${r}em;
        } 
        ${o}`),he(r+"em")}fe(e(window).scrollTop()>0?30:100),window.updateProductImageMaxWidthBasedOnScroll=fe;var Fe=0,_e=!0,ka=0;function lo(){var t=e(window).scrollTop();/scroll=/i.test(location.href)&&history.replaceState(history.state,null,location.href.replace(/scroll=\d+/i,"scroll="+parseInt(t))),t>=10&&!Fe?(Fe=1,fe(30),he()):t<10&&Fe&&(Fe=0,fe(100),he())}window.addEventListener("scrollend",t=>{if(_e){t.stopImmediatePropagation(),t.preventDefault();return}lo()});function uo(){Bt(t=>{h.arrive(".ins-tile__copyright",B,r=>{const i="support@datex2.bike";r=e(r);const o=new Date().getFullYear()-2e3;if(!r.find("a").length){let a=function(l){return setTimeout(n=>r.find("ui-number")[0]?.style.setProperty("--percent",o),l||1e3)};r.html(`<span class="copy"><ui-number style="--percent:19;--prefix:' \xA9 20'" start="19" type="int" class="year"></ui-number></span><a target="_blank" class="ui-number ins-tile__link" href="mailto:${i}">${i}</a>`);const c=a(5e3);P.arrive(".ec-page-buttons, .ec-cart, .price-with-discount, #tile-cover-HaXq6F, .ec-footer, .ec-confirmation__continue",B,l=>{setTimeout(n=>{clearTimeout(c),$e(),a(),Zr()},10)})}})})}function ut(){let t=Re("js-css-footer");const r=e("#tile-footer-MNure7"),i=r.find(".ins-tile__copyright"),o=r.find(".ins-tile__links"),a=(r.css("position")=="fixed"?r:i.css("position")=="fixed"?i:o).height()-1,c=(e(".product-details__product-price-taxes").height()||0)+(e(".details-product-price-compare__container").height()||0)+(e(".menu-wrapper").height()||0)-1,l=e(".extra-images")[0],n=Math.max(0,(e(".product-details__sidebar")?.outerHeight()||0)-((l?.parentNode?.scrollHeight||0)-(l?.scrollHeight||0))-(e(".details-gallery__images").height()||0)),s=It.width(),d=It.height(),p=e(".ins-tile__links").outerHeight()||0,u=e(".ins-tile__copyright").outerHeight()||0,_=e(".grid__sort"),g=p+Math.max(u,37),y=0;let f=e(".ec-cart__checkout").outerHeight()||0;const b=e(".ec-page-buttons:first").outerHeight()||0,E=d-(e("#main-video").height()||0)-40,m=e(".ec-pager, .page-type-LEGAL .ec-page-buttons, .ec-cart.ec-cart--empty, .ec-login-form .ec-cart__checkout, .ec-resetPassword-form .ec-cart__checkout, .page-type-ACCOUNT-PAGE .ec-cart-step--signout .ec-cart-step__wrap").outerHeight()||0,v=e("h1.product-details__product-title").outerHeight()||0,k=Math.max(e(".ec-footer").outerHeight()||0,0),T=Math.max(e(".ec-footer__row").outerHeight()||0,36),A=_.outerWidth()||0,D=[0,...e(".product-details__product-price-taxes:visible,.ec-cart__summary,.page-type-LEGAL .ecwid-productBrowser .ec-footer:visible").toArray().map($=>e($).outerHeight())].reduce(($,Q)=>$+Q);f=f?`--checkout-action-bar--height-computed: ${f}px !important;`:"";const x=e(".ec-breadcrumbs"),O=x.outerWidth()||0,I=A+(x.width()||0)+e(".ins-tile--product-browser .ec-size div.ecwid-productBrowser .ec-store .ec-grid--title.ec-header-h1").width()||0,U=s-14-48-Pe;x.toggleClass("long-crumbs",s<=499||I>U),h.toggleClass("vertical-share",s<=499),t.text(`:root, #ecwid_body, #tile-product-details { 
            ${f}
            --ec-pager--height: ${m}px;
            --action-bar--height: ${D}px;
            --ec-breadcrumbs--actual-width: ${O}px;
            --menu-bar-footer--height: ${c}px !important;
            --ec-page-buttons--height: ${b}px !important;
            --ec-footer--height: ${k}px !important;
            --ec-footer__row--height: ${T}px !important;
            --grid__sort--width: ${A}px;
            --video-iframe--bottom: ${E}px;
            --product-details__product-title--height: ${v}px !important;
            --extra-images--height: ${n}px !important;
            --footer--links-height: ${p}px  !important;
            --footer--copyright-height: ${u}px !important;
            --footer--max-height: ${g}px  !important;
            --footer--height: ${a}px !important;`+(y?`
            --cart-product-image--width: ${y}px;`:"")+`
          --vh: ${d} !important;
          --vw: ${s} !important;
          --device--ratio: ${s/d} !important;  
        }`)}(function(){const t=e("<div id='scroller'><div/></div>").css({overflow:"scroll",opacity:0,width:"100dvw",position:"fixed",top:"-1px",height:0}).appendTo(h),r=t.find("div").css("width","100%"),i=o=>{Pe=t.width()-r.width(),h.css("--scroll",`${Pe}px`).toggleClass("is-web",!!Pe).toggleClass("is-mobile",!Pe)};new ResizeObserver(i).observe(t[0]),i()})(),window.addEventListener("resize",()=>{he(),ut(),setTimeout(ut,200),fixFormFactor(),setTimeout(fixFormFactor,100)}),ut();function po(t){if(["CART","ORDER_CONFIRMATION"].indexOf(t.type)>0)var r=100,i=setInterval(o=>{let a=e(".ec-cart-option.ec-cart-option--key");(a.length||r--<0)&&(clearInterval(i),a.each(function(c){c=e(this),c.text(c.text().trim().replace(/:$/,""))}),e(".ec-cart-option.ec-cart-option--value").each(function(c){c=e(this),/Not included/i.test(c.text().trim())&&c.parent().toggleClass("xhidden",1).hide()}))},10)}function jt(t){return parseInt(t?.toString()?.replace("\u2013","-").replace(/(?!^)-|[^\d-]/g,""))/100}var Gr={};function or(t,r){const i=t.items.map(o=>o.product.id).join("+");return!r&&Gr[i]||(Gr[i]=Promise.all(t.items.map(o=>fetchProduct("GET",o.product.id,Zo))).then(o=>{const a={};return o.forEach(c=>a[c.id]=c),t.items.forEach(c=>{c.p=a[c.product.id],c.p.options.map(l=>(l.selectedChoice=l.choices.find(n=>n.text==c.options[l.name]),l))}),o}))}function Yr(t){const r=!!e(".pswp.pswp--open").length;h.toggleClass("pswp--open",r),r?setTimeout(i=>h.toggleClass("pswp--opened",!0),300):h.toggleClass("pswp--closing",!0).toggleClass("pswp--opened",!1)&&setTimeout(i=>h.toggleClass("pswp--closing",!1),100),t=r?!!t:!0,Ht(t),h.toggleClass("jsv-swiping",!t),t&&At(),ar=!1}function go(t){Yr()}var mo,ar=!1;function ho(t){mo=h.is(".jsv-show-360"),t.parentNode.leave(t,go),Yr(ar)}function fo(t){t.addEventListener("pointerup",r=>{e(".pswp__button--close")[0]?.click(),r.preventDefault(),r.stopImmediatePropagation()},!0)}function _o(t){e(t).click(r=>{jsv&&h.is(".jsv-show-360")&&(jsv.zoom.currentZoomScale>=jsv.zoom.zoomMax?(kt(),jsv.resetZoom(400),At()):(kt(),jsv.zoomTo(Math.min(jsv.zoom.currentZoomScale+1,jsv.zoom.zoomMax),0,0,1200)),h.toggleClass("jsv-zoomed",jsv.zoom.isZoomed()))})}function vo(t){t=e(t);const r=mt.findOrCreate(".jsv-zoom-buttons-wrapper",i=>'<div class="jsv-zoom-buttons-wrapper"><div class="ecwid-pswp ecwid-pswp--theme-ecwid"><div class="ecwid-pswp-wrapper"/></div<</div>').find(".ecwid-pswp-wrapper");r.html(""),r.append(t.find(".pswp__button--close").clone().addClass("pswp__button--clone")),r.append(t.find(".pswp__button--zoom").clone()).addClass("pswp__button--clone"),r.append(e(".pswp__caption").clone())}var Kr=0;const sr=new ResizeObserver(t=>{clearTimeout(Kr),Kr=setTimeout(r=>{const i=e(".pswp__img").map((n,s)=>e(s).width()).get(),o=Math.max(...i),a=Math.min(...i),c=o/a,l=parseFloat(c.toFixed(1)).toString().substring(0,3);e(".ecwid-pswp .pswp__button--zoom").attr("data-image-zoom",l+" x")},100)});function yo(t){sr.observe(t),t.parentNode?.leave(t,r=>sr.unobserve(t))}function wo(t){t.type=="PRODUCT"&&(h.arrive(".pswp--open",tt,ho),h.arrive(".pswp__button--close",tt,fo),h.arrive(".pswp__button.pswp__button--zoom",tt,_o),h.arrive(".pswp__top-bar",tt,vo),h.arrive(".pswp__img",tt,yo),Tt(r=>{sr.disconnect()}))}function Jr(){let t=e("meta[name=viewport]"),r=t.attr("content");/user-scalable/i.test(r)||t.attr("content",r=r+", user-scalable=0"),/user-scalable=0/i.test(r)||t.attr("content",r=r.replace(/user-scalable=\w+/i,"user-scalable=0")),/maximum-scale=1.1/i.test(r)||t.attr("content",r=r.replace(/maximum-scale=\d\.?\d*/,"maximum-scale=1.1")),e('meta[name="theme-color"]').attr("content","#2a4931").find(i=>!e(i).attr("media")).remove(),h.css({width:"100dvw",height:"100dvh"})}function nr(t,r,i,o,a){if(t.type==r){let c=e(o);i in t||(t[i]=20),c.length?(xe(c[0],l=>{h.toggleClass(a,!0)}),Cr(c[0],l=>{h.toggleClass(a,!1)})):--t[i]>0&&setTimeout(nr.apply(this,arguments),100)}}function bo(t){nr(t,"PRODUCT","__poDetectTrials",".product-details__product-options","show-tab-options")}function Co(t){nr(t,"PRODUCT","__pdDetectTrials",".product-details__description","show-tab-description")}function To(t){h.toggleClass("show-tab-fav",/favorite-product--saved/i.test(t))}function xo(){P.arrive(".ins-header__sidebar-menu-inner",B,r=>{if(!e(".lang-menu-mobile").length)return;r=e(r);let i=e('<div class="lang-menu-mobile ins-header__sidebar-menu-link menu-language ins-header__sidebar ins-header__sidebar--menu"><a class="ins-header__sidebar-menu-link-title language-title" target="_self"><div class="ins-header__sidebar-menu-link-icon"></div></a><div class="ins-header__submenu sub-menu-languages ins-header__language ins-header__language--row ins-header__language--mobile"></div></div>');r.prepend(i);let o=e(".ins-header__language--switch svg");o=o.length?o[0].outerHTML:null,o&&i.find(".language-title").append(o),i.on("click",function(){e(this).toggleClass("ins-header__sidebar-menu-link--open")}),i.find(".sub-menu-languages").append(e(".ins-header__language.ins-header__language--row"))});var t=(h.attr("lang")||"en").toUpperCase();e(".ins-header__language-link, .ins-header__language .ins-header__language-mark").each((r,i)=>{i=e(i);let o=i.text();i.toggleClass(o,1),t==o&&i.toggleClass("lang-active")})}function Po(t){P.arrive(".ins-header__language + .ins-header__dropdown, .ins-header__language + .ins-header__dropdown + .ins-header__dropdown",{existing:!0},function(r){var i=(h.attr("lang")||"en").toUpperCase();e(".ins-header__language-mark").each((o,a)=>{a=e(a);let c=a.text();a.toggleClass(c,!0),a.parent()[0]?.addEventListener("click",n=>{const s=/^[/](..$|..\/)?/gi,d=`/${c.toLowerCase()}`;var u=s.test(location.pathname)?location.pathname.replace(s,d+"/"):d+location.pathname;return u.endsWith("/")&&(u=u.substring(0,u.length-1)),u=location.protocol+"//"+location.host+u+location.search+location.hash,n.stopImmediatePropagation(),n.stopPropagation(),n.preventDefault(),kt(),location.href=u,!1},!0),i==c&&a.toggleClass("lang-active")})}),P.arrive(".ins-header__dropdown.ins-header__dropdown--first",at,r=>{const i=[],o=Re("menu-css-header");e(r).find(".ins-header__dropdown-link .ins-header__dropdown-link-title").each((c,l)=>{l=e(l);const n=l.attr("href").replace(`${location.protocol}//${location.host}`,"").replace(/\/products\/?/i,"")||"/",s=de[n];i.push(s?.thumbnailUrl)});const a=i.map((c,l)=>c&&`.ins-header__menu .ins-header__dropdown-link:nth-child(${l+1}) .ins-header__dropdown-link-title::before { background-image: url('${c}'); }`).filter(c=>c).join(`
`);o.text(a)})}function Eo(t){P.arrive(".ins-header__icon--burger",B,r=>{e(r).on("click",xo)})}function ko(t){e(".ins-header__menu-link-title").each((r,i)=>{const o=e(i);r=o.attr("href"),r=r.replace(/(datex2wd|datex2)\.bike\/en\//i,location.hostname+"/"+location.pathname.substring(1).split("/")[0]||"en"),r?.startsWith("#")&&!i.fixedHash&&(i.fixedHash=!0,i.addEventListener("click",a=>{location.href=r,a.stopImmediatePropagation()},!0)),o.attr("href",r)})}var Ao="__xyz",Oo=0;e.extend({replaceTag:function(t,r,i){var o=e(t),a=o.attr("id"),c=Ao+Oo++,l=e(`<${r}/>`);if(i){const s=l[0];s.className=t.className;for(var n=t.attributes.length-1;n>=0;n--){const d=t.attributes[n];d&&s.setAttribute(d.name,d.value)}}return l.attr("id",c),o.wrapAll(l),o.contents().unwrap(),l=e(`#${c}`),l}}),e.fn.extend({replaceTag:function(t,r){var i=[];return this.each(function(){var o=Ne.replaceTag(this,t,r);i.push(o)}),i.length==0?e(i):i.reduce(e.merge)}});function So(t){if(t.type=="SITE"){var r={"\u1D07\u029F\u1D07\u1D04\u1D1B\u0280\u026A\u1D04 \u1D00\u029F\u029F \u1D21\u029C\u1D07\u1D07\u029F":"https://electricallwheel.com/products/datex2-30a-universal-dual-battery-dual-output-discharge-balancer-kit-bullet-t-plug-xt60?cgkit_search_word=datex2.bike&utm_source=datex2.bike&utm_medium=referral","\uA731\u1D18\u1D00\u0280\u1D0B \u1D04\u028F\u1D04\u029F\u1D07\uA731":"https://www.sparkcycleworks.com/index.php/product/battery-blender?utm_source=datex2.bike&utm_medium=referral","\u1D0D\u1D00\u1D1B\u1D07 \u0299\u028F \u1D0D\u1D07":"http://fb.com/MATEbyME&utm_source=datex2.bike&utm_medium=referral","x-\u1D1B\u1D07\u1D0D\uA731":"https://x-tems.com?utm_source=datex2.bike&utm_medium=referral","\u1D07\u1D20\u1D0F\u029F\u1D1C\u1D1B\u026A\u1D0F\u0274 \u1D04\u028F\u1D04\u029F\u1D07\uA731":"https://evolution-cycles.je?utm_source=datex2.bike&utm_medium=referral","\u1D0D\u1D00\u1D1B\u1D07":"https://MATE.bike?utm_source=datex2.bike&utm_medium=referral"};P.arrive("#tile-feature-list-fCUjR6 div.ins-tile__feature-title",{existing:!0},i=>{if(i=e(i),i.hasClass("processed"))return;i.toggleClass("processed",!0);let o=i.text(),a=r[o];i.parent().find("div.ins-tile__feature-title, div.ins-tile__feature-description, div.ins-tile__feature-icon").each((l,n)=>{var s=e(n).replaceTag("a",!0);s.attr({href:`${a}`,target:"_blank"}).addClass("partner")});var c=e().filter(function(){return e(this).text()==o}).replaceTag("a",!0);c.attr({href:`${a}`,target:"_blank"}).addClass("partner"),c=e(`.ins-tile__feature-title:contains('${o}')`).filter(function(){return e(this).text()==o}).map((l,n)=>e(n).parent().find("svg").wrap(e("<a />").attr({href:`${a}`,target:"_blank"}).addClass("partner-icon")))})}}function Io(t){if(t.type=="SITE"){let r=function(i){W("Player - injected into page")()};"orientation"in screen&&(window.screen.orientation.onchange=function(){this.type.startsWith("landscape")&&document.body.webkitRequestFullScreen?document.body.webkitRequestFullscreen({navigationUI:"hide"}):document.webkitCancelFullScreen&&document.webkitExitFullscreen()}),W("Player - listening for element")(),P.arrive("#tile-cover-HaXq6F .ins-tile__spacer, #tile-cover-HaXq6F .video-wrapper",at,i=>{W("Player - element arrived")(),i=e(i);const o=i.is(".video-wrapper")?i:i.find(".video-wrapper"),a=e('<div class="ins-tile__spacer-added"></div>'),c=o.length?o:e('<div class="video-wrapper"></div>');o.length||(i.toggleClass("ins-tile__spacer",!1).toggleClass("video-container",!0).append(a,c),a.find(".ins-tile__spacer-added").toggleClass("ins-tile__spacer",!0)),_t(c[0]),i=e("#tile-cover-HaXq6F")[0],e(i).hasClass("ins-tile--shown")?r(i):e(i).classChange((l,n,s)=>{W("Player - element shown")(),e(l).hasClass("ins-tile--shown")&&(s.disconnect(),r(l))})})}}function Zr(){setTimeout(t=>{h.toggleClass("hiding-copyright",!0),setTimeout(r=>h.toggleClass("hidden-copyright",!0).toggleClass("hiding-copyright",!1),1e3)},6e3)}function Do(t){(t?.type==="CATEGORY"||t?.type=="SEARCH")&&(Zr(),De())}function Ro(t){(t?.type=="PRODUCT"||e(33))&&(h.purchaseButtonBound||(h.purchaseButtonBound=!0,P.arrive(".details-product-purchase__add-to-bag button,.details-product-purchase__add-more button",at,r=>{var i=e(r).find("svg").attr({viewBox:"10 0 64 86",width:68,height:40}).addClass("icon")[0];i.innerHTML=e(xt.addToCartIcon())[0].innerHTML,r.removeEventListener("click",ti,!0),r.addEventListener("click",ti,!0)})))}function Fo(t){if(t.type in{ACCOUNT_ROOT:1,ACCOUNT_REGISTRATION:1,ACCOUNT_RESET_PASSWORD:1,TERMS:1}){let r=function(i){e(i).toggleClass("form-control__button form-control__button--icon-center",!0).parent().toggleClass("form-control form-control--button form-control--large form-control--secondary form-control--flexible form-control--animated form-control--done ec-cart__button",!0)};P.unbindArrive(r),P.arrive(".ec-resetPassword-form .ec-cart__buttons+.ec-page-links .ec-link, .ec-register-form .ec-cart__buttons+.ec-page-links .ec-link, .ec-login-form .ec-cart__buttons+.ec-page-links .ec-link",tt,r),setTimeout(Dt,10)}}function Mo(t){t.type=="SITE"&&(e(xt.meteors()).prependTo(P.body),window.ai_background=new ua("bkFrame",{resolutionScale:"0.5",maxFps:"60"}),setTimeout(r=>e(".green-bg").toggleClass("green-bg-visible",!0),10))}function $o(t){t.type=="ORDER_CONFIRMATION"&&(window.orderId=t.vendorOrderNumber)}function Lo(t){if(t.type=="PRODUCT"){var r=new URL(location).searchParams;r.forEach((i,o)=>{if(o.startsWith("po--")){let a=".details-product-option--"+e.escapeSelector(o.substring(4).replace(/ /g,"-"))+" input",c=e(a).val(i);c&&c[0]&&c[0].dispatchEvent(new Event("input"))}})}}async function ti(t){}var cr=e("#js-cart-checkout");cr.length||(cr=e("<style/>").attr("id","js-cart-checkout").appendTo(mt));var re=0;const ei=new ResizeObserver(Me);function ri(t){clearTimeout(re),t.addEventListener("click",i=>_e=!0,!0);const r=e(t);r.is(".ec-filters__body.ec-form__row--continue")||(r.is(".form-control--done.form-control--primary")&&!e(".ecwid-productBrowser-CartPage,.ecwid-productBrowser-ProductPage").length&&(t=r.parent().parent().addClass("ec-form__row--continue")[0]),t.observing||(t.observing=!0,ei.observe(t)),re=setTimeout(Me,10))}var re=0;function Me(t){clearTimeout(re),re=setTimeout(r=>{const i=e("#ec-instantsite"),o=i.find(".menu-wrapper").outerHeight()||0,a=i.find(".ec-cart__checkout,.ec-confirmation__continue:first").outerHeight()||0,c=i.find(".ec-form__row--continue:visible:not(.ec-filters):not(.ec-filters__body):not(.ec-openable-block):not(.ec-openable-block__wrap):not(.ec-openable-block__wrap-inner)").outerHeight()||0,l=o||a||c,n=i.find(".product-details__product-price-taxes").outerHeight()||0,s=i.find(".details-product-price-compare__container").outerHeight()||0,d=i.find(".ec-store__legal-page .ec-page-buttons").outerHeight()||0,p=i.find(".cart__body .ec-cart__cert").outerHeight()||0,u=i.find(".ec-form--mb2").outerHeight()||0,g=(e(".ec-cart__summary").outerHeight()||0)+n+s+d+p+u;cr.text(`
:root, #tile-product-details {
  --ec-cart__checkout--height: ${l}px;
  --ec-cart__summary--height: ${g}px;
  --ec-cart__action-bar--height: ${l+g}px
}`)},10)}function jo(t){ei.disconnect()}function lr(t){return["CART","CHECKOUT_ADDRESS","CHECKOUT_DELIVERY","CHECKOUT_TAX_INFORMATION","CHECKOUT_PAYMENT_DETAILS","ORDER_CONFIRMATION","ACCOUNT"].indexOf(t?.type?.toUpperCase())>=0}function dr(t){return["ORDER_CONFIRMATION","ACCOUNT"].indexOf(t?.type?.toUpperCase())>=0}function ii(t){Bt(r=>{P.unbindArrive(o),P.unbindArrive(ri),P.arrive(".ec-cart-item__image",Be,ut),P.arrive(".ec-cart__summary",tt,o);const i="cart-total-collapsed";function o(l){l.boundToggleSummary||(l.boundToggleSummary=1,l.addEventListener("click",a,!0)),h.toggleClass("cart-summary-collapsed",localStorage[i]=="1")}function a(){localStorage.setItem(i,h.toggleClass("cart-summary-collapsed").is(".cart-summary-collapsed")?"1":"0")}const c="#ec-instantsite .ec-cart__checkout, .ec-cart__summary, #ec-instantsite .ec-form__row--continue, .ec-confirmation__continue, #ec-instantsite .form-control--done.form-control--primary, #ec-instantsite .product-details__product-price-taxes, #ec-instantsite .details-product-price-compare__container, #ec-instantsite .menu-wrapper, #ec-instantsite .ec-store__legal-page, #ec-instantsite .ec-page-buttons, #ec-instantsite .ec-cart__cert, #ec-instantsite .ec-form--mb2";Tt(jo),P.arrive(c,tt,ri),re=setTimeout(Me,10)})}Try(ii,currentPage);function Uo(){Bt(t=>{P.arrive("footer.ins-tile--footer",{existing:!0,uniqueOnly:!0},r=>{const i=xe(r,a=>{h.toggleClass("footer-visible",!0)}),o=Cr(r,a=>{h.toggleClass("footer-visible",!1)})})})}Uo();function No(t){P.unbindArrive(br),P.arrive(".details-product-options",{existing:t,onceOnly:!1},br)}let Ut=!1;me(Ze,currentPage,!0);const oi={},Qt=[];function Wo(){const t=new URLSearchParams(location.search),r=t.get("categories"),i=r?.split(",")||[];for(var o=0;o<i.length;o++)Qt.includes(i[o])||Qt.push(i[o]);for(var o=Qt.length;o--;)i.includes(Qt[o])||Qt.splice(o,1);const a=Qt.join(",");if(a!=r){t.set("categories",a||null),a||t.delete("categories");const n=t.toString().replace(/%2C/g,",");history.replaceState(null,"",location.pathname+"?"+n)}[0,...[...Qt].reverse()].map(n=>de[n]).forEach((n,s)=>{(n?.id?[...n.flattenCategories,n]:[n]).forEach((p,u)=>{Object.forEach(p?.products,_=>{const g=s*1e9+_.orderBy;(_=="604828319"||_=="553033002")&&console.log("order:",_,g),oi[_.product.id]=g})})})}var ai=null;function Bo(t,r,i){ai!=t&&(!r||r.type=="PRODUCT")&&(ai=t,P.unbindArrive(Nr),tr("AB",".product-details__product-price-row",!0,Nr,qi,De,i))}const si=Zt();switch(si&&setTimeout(t=>Ae(currentPage,si),20),Ht(!1),h.addClass("jsv-swiping"),localStorage.getItem("show-tab-image")){case"1":h.alterClass("show-tab*image","show-tab-small-image");break;case"2":h.alterClass("show-tab*image","show-tab-image");break;default:h.alterClass("show-tab*image","show-tab-full-image");break}Try(Jr);function Ho(){window.setFooterHeight=ut,Bt(t=>{var r=null,i=null,o=null;P.arrive(".ec-breadcrumbs",at,a=>{r&&r.disconnect();const c=e(a).children(),l=c.length;c.each((n,s)=>e(s).css("order",l-n)),r=new ResizeObserver(n=>setTimeout(ut,0)),r.observe(a),ut()}),o=new ResizeObserver(a=>setTimeout(ut,0)),P.arrive(".ec-pager, .ec-page-buttons, .ec-cart.ec-cart--empty, .ec-resetPassword-form .ec-cart__checkout, .ec-login-form .ec-cart__checkout, .page-type-ACCOUNT-PAGE .ec-cart-step--signout .ec-cart-step__wrap",at,a=>{a.parentNode.leave(a,c=>{o.unobserve(c),ut()}),o.observe(a),ut()}),P.arrive(".footer__link--all-products",at,a=>{a.addEventListener("click",c=>{a.href==location.origin+location.pathname&&e(".grid-sort__item--filter")?.[0]?.click()},!0)}),P.arrive(".ec-footer__row",B,a=>{i&&i.disconnect(),i=new ResizeObserver(c=>setTimeout(ut,0)),i.observe(a),ut()})})}Ho(),h.on("click",".details-product-price-wholesale__title",t=>{localStorage.setItem("wholesale",localStorage.getItem("wholesale")=="1"?"0":"1"),xi()}),h.on("click",".ec-breadcrumbs",async t=>{if(e(t.target).is(".ec-breadcrumbs")&&h.is(".page-type-PRODUCT"))try{await navigator.clipboard.writeText(e(".ec-breadcrumbs").attr("data-sku")+`
`+location.href),alert("SKU copied to clipboard")}catch(r){alert("Failed to copy SKU to clipboard: ",r)}});function Vo(t){}Try(Ee),Try(uo);var ni=!0,ie=!0,ur=null;wi(t=>{ie=!1,Try(Vo,t)});function $e(t){vi(),h.toggleClass("show-footer",t===void 0||!!t).toggleClass("hide-footer",t!=null&&!t),setTimeout(r=>e(".ins-tile__footer-wrap").show(),100)}function Xo(){$e(!1)}_r.showFooter=$e,_r.hideFooter=Xo;function pr(){ie?Dt(!0):ie=!0}function ci(t){t.each((r,i)=>(i=e(i)).css({"--r":i.css("--p"),"--p":""}))}function zo(t){if((t.type=="SEARCH"||t.type=="CATEGORY")&&!/^(..\/)?products\/?$/gi.test(location.path)&&!e(".ecwid-productBrowser-CategoryPage-0").length){Wo();const o=e(".ec-products-sort").val()=="relevance",a=location.search;var r=ur!=null&&ur!=a;ur=a;const c=e(".grid-product").each((l,n)=>{const s=n?.className?.match(/grid-product--id-(.*?)( |$)/)[1],d=-oi[s],p=o?d||"":100-l;n=e(n),r||(r=n.css("--r")!=null&&n.css("--r")!=p),n.css({"view-transition-name":`product__${s}`,"--p":p});const u=n.find(".grid-product__price-value"),_=u.text(),g=!/[1-9]/.test(_);(g||u.hasClass("zero-price"))&&u.toggleClass("zero-price",g)});It.width()>493&&r?P.startViewTransition(n=>ci(c)).finished.then(pr):(ci(c),pr())}else Bt(i=>{h.arrive(".grid__categories--advanced",B,o=>{const a=xe(o,c=>{a.disconnect(),pr()})})})}function gr(t){di=!!t,e(".grid__products")[0]?.scrollIntoView(yr)}function li(t){zo(page),di&&gr()}function Qo(t){if(t.type=="SEARCH"||t.type=="CATEGORY"){h.arrive(".filters-sticky-bar .form-control__button",B,i=>{i.filtersScrollClickBound||(i.filtersScrollClickBound=!0,i.addEventListener("click",o=>{gr(!0)},!0))});const r=e(".grid__products");r.length?li(r[0],t):h.arrive(".grid__products",B,i=>{li(i,t)})}else ie?Dt(!0):ie=!0}function qo(t){t.type=="PRODUCT"&&(h.arrive(".details-gallery__images-zoom",B,r=>{e(r).classChange(i=>h.toggleClass("jsv-photo-scaled",e(i).is(".details-gallery__image-zoom-visible")))}),h.arrive(".product-details__product-description",B,r=>{const i=/^(\/..)(\/.*$|$)/i.exec(location.pathname)?.[1]||"";e(r).find("a").each((o,a)=>{a=e(a),a.attr("href",a.attr("href").replace(/^\/(DATE-BMx1)$/gi,"/DATE-BMx1-SUPER").replace(/^\/(DATE-)/gi,`${i}/products/$1`))})}),h.arrive(".product-details__product-description",B,r=>{const i=e(".product-details__product-title.ec-header-h3:first"),o=i.text(),a=e(".product-details__sidebar")[0],c=new ResizeObserver(ut);c.observe(i[0]),a&&c.observe(a),r=e(r),h.arrive(".product-details__gallery",B,l=>e(l).attr("data-title",o)),r.attr("data-title",o),r.attr("data-subtitle",e(".product-details-module.product-details__subtitle:first").text())}),h.arrive(".product-details--layout-sidebar-right",B,r=>{ma(r)}))}Ut=Pr(currentPage,Dt,Ut,me);var di=!1;Tr(t=>{e(".ec-store").toggleClass("load",!0),setTimeout(i=>e(".ec-store").toggleClass("loaded",!0).toggleClass("load",!1),1),e(".ec-storefront-v3-top-scroller, .ec-store")[0]?.scrollIntoView({dx2:!0,behavior:"smooth"}),Try(Qo,t),ni?ni=!1:(P.arrive(".ec-breadcrumbs",B,ut),Try(Ge,t),Ut=Pr(currentPage,Dt,Ut,me)),z(t),Try(Fo,t),Try(ra,t),Try(qo,t),Try(Mo,t),Try(da,t),Try(ko,t),Try(So,t),Try(Eo,t),Try(Po,t),Try(po,t),Try($o,t),Try(Lo,t),Try(ii,t),Try(Jr,t),Try(bo,t),Try(Co,t),Try(wo,t);const r=e(".product-details__product-like.favorite-product .favorite-product__title");r[0]&&!r[0].bound&&(r[0].bound=!0,r.on("click",i=>e(".product-details__product-like .form-control--button:visible")[0]?.click())),Try(ir,e(".product-details__product-like"),To),Try(ir,e("#ecwid-pswp-template"),no),Try(Zi,t),Try(to,t),Try(Ki,t),Try(M,t),Try(Je,t),Try(Gi,t),setTimeout(i=>{if(Ir(),t.type==="PRODUCT"){const o=Zt();Try(Se,t),Try(jr,o,t)}},1),Try(Ro,t),Try(Do,t)}),lr(currentPage)&&(dr(currentPage)?P.arrive(".ec-store__account-page, .ec-confirmation__number",B,t=>{const i=(e(t).is(".ec-confirmation__number")&&e(t).text()||"").match(/#@DATEx2-(.*)/i)?.[1];Try(Ge,{type:currentPage.type,vendorOrderNumber:i})}):Try(Ge,currentPage)),wi(t=>{setTimeout(r=>{Ir()},1)})})();function Ca(w){let C="",S="",F;const R=w;switch(!0){case/ğŸ ğ± ğ•ğ„ğ„ğ±/.test(R.sku):case/ğ•ğ„ğ„ğ±/.test(R.sku):C="VEETires",F=!0;break;case/ğ€ğˆğ‘ğ…ğ±/.test(R.sku):C="AIRFx/";break;case/ğğŒğ±ğŸ/.test(R.sku):C="BMx/";break;case/ğ‘ğˆğŒğ“ğ€ğğ„ğ±ğŸ/i.test(R.sku):C="RIMTAPEx";break;case/ğ’ğ‹ğˆğŒğ„ğ±/i.test(R.sku):C="SLIMEx";break;case/ğ“ğ€ğğğ”ğ’ğ±/i.test(R.sku):C="TANNUSx";break;case/ğ—-ğ“ğ„ğŒğ’ğ±ğŸ-ğ‹ğğ€ğƒğ„ğ‘/.test(R.sku):C="X-TEMSx1-LOADERS-small/",S=!0;break;case/^ğƒğ€ğ“ğ„ ğ—-ğ“ğ„ğŒğ’ğ±ğŸ-ğ…ğğ‹ğƒğ±ğŸ$/gi.test(R.sku):C="X-TEMSx1-FOLDx1-only-small/";break;case/ğ—-ğ“ğ„ğŒğ’ğ±ğŸ-ğ…ğğ‹ğƒğ±ğŸ/.test(R.sku):C="X-TEMSx1-FOLDx1-small/";break;case/^ğƒğ€ğ“ğ„ ğ”ğğğ±ğŸ$/.test(R.sku):C="UNOx1/";break}var G="",Y=e(".form-control__radio:checked").toArray().map(z=>{const M=e(z).parent(),j=M.attr("data-render-product")||M.attr("data-linked-product"),K=He.get(M[0]),Z=F&&M.is(".og-UNIT-TYPE"),_t=Z&&M.is(".o-UNIT-TYPE-x2"),dt=F&&M.is(".og-TIRE-MODEL"),Vt=_t?"2x":"",$t=(ft(M.attr("data-sku"))||"").replace(/^(DATE|ğƒğ€ğ“ğ„) /,"").replace(/(\-(RED|GREEN|GOLD|BLACK))$/i,Z||Z?"":"$1"),nt=Vt+$t.replace(/(\-(RED|GOLD|BLACK|GREEN))$/gi,dt?"":"$1");return dt?"":j==w.id&&!Z?(G=nt)&&null:nt||ft(et[j]?.sku)}).filter(z=>z).map(z=>z?.replace(/^(DATE|ğƒğ€ğ“ğ„) /,""));const V=[G,...Y].filter(z=>z).sort().join(".").replace(/X-TEMSx1-FOLDx1\.X-TEMSx1-LOADER-/gi,"X-TEMSx1-FOLDx1-");h.toggleClass("bg-overlay-360",!!V);let X="";C&&V&&(X=`https://cdn.jsdelivr.net/gh/DATEx2/combo@live/${C}${V}.css`);var rt;e(le()).append(rt=e('<link class="bg-overlay-css" rel="stylesheet" type="text/css"/>').on("load",z=>{const M=e(".bg-overlay-css"),j=M.index(z.target);M.each((K,Z)=>K<j&&e(Z).remove())})),rt.attr("href")!=X&&rt.attr("href",X)}let xr=!1;const Ta=(w,C)=>{try{C.dispatchEvent(w)}catch{}xr=!1,C.disabled=!1};var Oi="";function Pr(w,C,S,F){if(w.type!=="PRODUCT"){const Y=h.attr("lang"),V=Y?"/"+Y:"",X={TERMS:".ec-page-body",CART:{s:".ec-cart__buttons",href:`${V}/products/cart`},CHECKOUT_ADDRESS:{s:".ec-cart-step--address .form-control__button",href:`${V}/products/checkout/address`},CHECKOUT_DELIVERY:{s:".ec-cart-step--delivery .form-control__button",href:`${V}/products/checkout/delivery`},CHECKOUT_TAX_INFORMATION:{s:".ec-cart-step--tax-information .form-control__button",href:`${V}/products/checkout/tax-information`},CHECKOUT_PAYMENT_DETAILS:{s:".ec-cart-step--payment .form-control__button, #ecwid-payment-details-paypal-placeholder",href:`${V}/products/checkout/payment`},ORDER_CONFIRMATION:".ec-confirmation__continue"},rt=X[w?.type]?.s||X[w?.type];if(w.type in X){var R=[];if(Bt(z=>{P.arrive(".ec-cart-item--summary",B,M=>M.click()),P.arrive(".ec-store .ec-breadcrumbs",B,M=>{M=e(M),Tt(Z=>{M.children().toggleClass("force-hidden",!1),R.splice(0,R.length).forEach(_t=>_t.remove())});var j=0;function K(Z,_t){const dt=e(`<a href="/cart" class="breadcrumbs__link ec-link ec-link--muted ${_t==0?"breadcrumbs__link--last":""}" style="order: ${_t||0};">${H(Z)}</a>`);return R.push(dt),dt}switch(w.type){case"TERMS":case"ORDER_CONFIRMATION":case"CART":break;default:switch(M.children().toggleClass("force-hidden",!0),w.type){case"CHECKOUT_PAYMENT_DETAILS":M.prepend(K("Payment",j++));case"CHECKOUT_TAX_INFORMATION":e(M).prepend(K("Tax information",j++));case"CHECKOUT_DELIVERY":e(M).prepend(K("Shipping method",j++));case"CHECKOUT_ADDRESS":e(M).prepend(K("Shipping & Delivery",j++)),e(M).prepend(K("Cart",j++)).prepend(K("Goodies",j++));break}}})}),w.type=="CART"||w.type=="TERMS"||w.type=="ORDER_CONFIRMATION"?h.toggleClass("fill-slider",!1):P.arrive(".ec-cart__steps",B,z=>{h.toggleClass("fill-slider",!0)}),Tt(z=>isScrolling=!0),w.type=="CHECKOUT_PAYMENT_DETAILS"){let z=function(M){if([".ec-radiogroup--title",".payment-hint-revolut",".payment-provider-total-text",".payment-hint-iban-eur",".paypment-hint-bic-text",".payment-hint-beneficiary-text",".payment-hint-bank-text",".payment-hint-address-text",".payment-hint-note-currency"].forEach(K=>M.arrive(K,B,Z=>{Z=e(Z);const _t=Z.text(),dt=H(_t);Z.text(dt)})),e(M).hasClass("ec-radiogroup__item--checked")&&!e(M).find(".ec-radiogroup--title").length){const K=e(M).find(".ec-radiogroup__title");K.html(e('<div class="ec-radiogroup--title"/>').text(K.text())).append(e(".ec-cart-step--payment .ec-cart-step__body > .ec-cart-step__section.ec-cart-step__section--description")[0]?.outerHTML).toggleClass("ec-radiogroup__cart--info",!0),e(".payment-provider-total i").text(Oi);const Z=xe(K[0],(_t,dt)=>{clearTimeout(G),G=setTimeout(Vt=>K.toggleClass("loaded",dt.isInView),600)},{threshold:1});K.toggleClass("loaded",K.is(":visible")),Tt(_t=>Try(dt=>Z.disconnect()))}M.listenClassChanged||(M.listenClassChanged=!0,e(M).classChange(z))};P.arrive(".ec-radiogroup__item--DxM-REVOLUT-or-Wire-Transfer, .ec-radiogroup__item--Dx2-REVOLUT-or-Wire-Transfer,.ec-radiogroup__item--2WD-REVOLUT-or-Wire-Transfer",tt,z);var G=0;Promise.all([new Promise(M=>Ecwid.Cart.get(j=>M(j))),new Promise(M=>Ecwid.Cart.calculateTotal(j=>M(j)))]).then(M=>{const j=M?.[0],Z=(M?.[1]).total,_t=Ecwid.formatCurrency(Z);console.warn(j);const dt=j.id;function Vt($t){const nt=e($t);nt.toggleClass("eec-form--comments",!!nt.find(".ec-form.ec-form--comments").length).toggleClass("eec-form--payment-reference-number",!!nt.find(".ec-form--j7zmwgw").length).toggleClass("eec-creditcard",!!nt.find(".ec-creditcard").length).toggleClass("eec-payment-methods",!!nt.find(".ec-radiogroup").length).toggleClass("eec-cart-step__section--description",!!nt.hasClass(".ec-cart-step__section--description").length).toggleClass("eec-cart__button--paypal",!!nt.find(".ec-cart__button--paypal").length).toggleClass("eec-form-control--done",!!nt.find(".form-control--done").length)}P.arrive(".ec-cart-step--payment .ec-cart-step__body > div",tt,Vt),P.arrive(".QR",tt,$t=>{e(".payment-provider-total i").text(Oi=_t);const nt=e($t),Ee=nt.hasClass("QR-Dx2")?"Dx2":nt.hasClass("QR-DxM")?"DxM":"2WD";ki($t,Ee,Z,dt)})})}P.arrive(rt,B,z=>{e(z).find(".form-control__button-text").html(xt.truck())[0]?.addEventListener("click",M=>{const j=M.target;if(xr||j===null||j.nodeName.toLowerCase()==="button"&&j.type!=="button"||M.type!=="click")return;xr=!0,j.disabled=!0,M.preventDefault(),M.stopImmediatePropagation();const K=e(z).find(".form-control__button-text");K.is("truck-out")||(K.toggleClass("truck-out",!0),setTimeout(Z=>Ta(M,j),1400))}),setTimeout(C,1)})}else setTimeout(C,1)}else{const Y=e(".details-product-options");Y&&(Y.injectProductDetailsDone=!1);const V=currentPage.productId;V&&(S?S=!1:F(V,w,!0))}return S}function Ba(w,C){e(".product-details__product-sku").attr("title",w.productId);const F=new URLSearchParams(location.search).get("scroll");return F&&(C=!0,e("html,body").animate({scrollTop:parseInt(F)},500,"swing")),mt.css("min-height",""),C=!1,C}var Er;e(P.head).on("mousedown touchstart",w=>{clearTimeout(Er),Er=setTimeout(C=>{stopJSV(),alert(Te(!Te())?"You are now a developer":"You are no longer a developer"),location.href=location.href},1e4)}).on("mouseup touchend",w=>clearTimeout(Er));
