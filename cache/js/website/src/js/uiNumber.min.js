class o extends HTMLElement{constructor(){super();const a=parseFloat(this.getAttribute("start"))||0;if(!o.adopted){const t=new CSSStyleSheet;t.replaceSync(`@property --percent { syntax: "<number>"; initial-value: ${a}; inherits: true; }
@property --temp { syntax: "<number>"; initial-value: ${a}; inherits: false; }
@property --duration { syntax: "<integer>"; initial-value: 600; inherits: true; }
@property --v1 { syntax: "<integer>"; initial-value: 0; inherits: false; }
@property --v2 { syntax: "<integer>"; initial-value: 0; inherits: false; }
@property --va { syntax: "<integer>"; initial-value: 0; inherits: true; }
@property --vb { syntax: "<integer>"; initial-value: 0; inherits: true; }
@property --vc { syntax: "<integer>"; initial-value: 0; inherits: true; }
`),document.adoptedStyleSheets=[...document.adoptedStyleSheets,t],o.adopted=!0}const x=parseFloat(this.getAttribute("end"))||10,n=parseFloat(this.getAttribute("percent"))||0,h=parseFloat(this.getAttribute("iteration"))||1,y=this.getAttribute("suffix")||"",u=this.getAttribute("prefix")||"",g=this.getAttribute("comma")||"",c=this.getAttribute("type")||"number",v=`transition: --percent 2.6s; --temp: calc(var(--percent, 0));--timing: steps(1); --v1: max(var(--temp) - 0.5, 0); --v2: max((var(--temp) - var(--v1)) * 100, 0);           
          `,s=new CSSStyleSheet;s.replaceSync(`
          @keyframes N { to { --percent: 1000; } }
          @counter-style pad-3 {
              system: numeric;
              symbols: "0" "1" "2" "3" "4" "5" "6" "7" "8" "9";
              pad: 3 "0";
          }
          :host > .ui-number {
            transition: --percent var(--duration, 1.6s);
            --temp: calc(var(--percent, 0));
            --v1: max(var(--temp) - 0.5, 0);
            --v2: max((var(--temp) - var(--v1)) * 100, 0);
            --vc: mod(var(--v1), 1000);
            --vb: mod(max(0, (var(--v1) / 1000) - 0.5), 1000);
            --va: mod(max(0, (var(--v1) / 1000000) - 0.5), 1000);
            counter-reset: v1 var(--v1) v2 var(--v2) va var(--va) vb var(--vb) vc var(--vc);
            animation: N var(--duration, 3s) var(--timing, linear) forwards var(--iteration, 1) var(--playstate, running);
          }
          
          
           :host .ui-number {
            display: inline-block;
          }
          :host .ui-number[part="number-thousands"]::before {
             content: var(--prefix, '') counter(vb) ' ' counter(vc, pad-3) var(--comma, '') counter(v2, decimal-leading-zero) var(--suffix, '');
          }
          :host .ui-number[part="number-millions"]::before {
             content: var(--prefix, '') counter(va) ' ' counter(vb, pad-3) ' ' counter(vc, pad-3) var(--comma, '') counter(v2, decimal-leading-zero) var(--suffix, '');
          }
          :host .ui-number[part="number"]::before {
             content: var(--prefix, '') counter(v1) var(--comma, '') counter(v2, decimal-leading-zero) var(--suffix, '');
          }
          :host .ui-number[part="int-thousands"]::before {
             content: var(--prefix, '') counter(vb) ' ' counter(vc, pad-3) var(--suffix, '');
          }
          :host .ui-number[part="int-millions"]::before {
             content: var(--prefix, '') counter(va) ' ' counter(vb, pad-3) ' ' counter(vc, pad-3) var(--suffix, '');
          }
          :host .ui-number[part=int]::before {
             content: var(--prefix, '') counter(v1) var(--suffix, '');
          }
          :host .ui-number[part="percent"]::before {
             content: var(--prefix, '') counter(v1) var(--suffix, '');
          }
          :host .ui-number[part="percent-number"]::before {
             content: var(--prefix, '') counter(v1) var(--comma, '') counter(v2, decimal-leading-zero) var(--suffix, '');
          }
         `),this.attachShadow({mode:"open"}).innerHTML=`
        <span class="ui-number" part="${c}" style="${v}"></span>`,this.shadowRoot.adoptedStyleSheets=[s]}}o.adopted=!1,customElements.define("ui-number",o),o.initJQuery=function(b){b.fn.uiNumber=function(a,x,n,h,y,u,g,c,v,s){if(!this.length)return this;n=n||"number",c=c||600;const m=/(.*?\-?)([\d\s]+)([,.]?)([\d]*)(.*)/.exec(a),t=parseInt((m?.[2]||"0").replace(/[\s]*/g,"")),w=parseInt((m?.[4]?.substring(0,2)||"0").padEnd(2,"0")),A=m?.[1],L=b(this),l=n,M=y,R=u,j=g,$=!!(a&&(t||w)),p=this.find("ui-number").eq(h||0),z=[x||"",$?"has-value":"is-empty"].filter(i=>i).join(" "),S=`'${y||""}${s?"":" "}${(A=="-"?"\u2013":A||"")?.replace(/'/g,"&#39;")} '`,T=`'${g||m?.[3]||""}'`,F=(m?.[5]||"").trimEnd(),E=(u||"")?.replace(/'/g,"&#39;"),N=`'${F.startsWith(" ")||s?"":" "}${F}${E?.length&&!s?" ":""}${E}'`;(n=="number"||n=="int")&&(n+=t>=1e6||t<=-1e6?"-millions":t>=1e3||t<=-1e3?"-thousands":"");const k=(i,e,f)=>`--comma: ${T||""}; --prefix: ${S};--suffix: ${u}; --percent: ${i+e/100};${f?"--duration: "+f:""}`,d=p.css("--percent")||0;if(p.length){let i=function(r,q,C,H){const J=k(r,q,H);p.attr("prefix",S).attr("comma",T).attr("suffix",u).attr("type",C).attr("style",J),b(p[0].shadowRoot).find(".ui-number").attr("part",C).css("transition-duration",H+"ms")},f=function(){const r=e.splice(0,1)[0];i(r.number,r.decimal,r.type,r.duration),e.length&&setTimeout(f,r.duration)};const e=[{number:t,decimal:w,type:n}];t>=1e6&d<1e6&&e.splice(0,0,{number:999999,decimal:99,type:l+"-thousands"}),t>=1e3&d<1e3&&e.splice(0,0,{number:999,decimal:99,type:l}),t<1e6&d>=1e6&&e.splice(0,0,{number:1e6,decimal:0,type:l+"-millions"}),t<1e3&d>=1e3&&e.splice(0,0,{number:1e3,decimal:0,type:l+"-thousands"}),e.forEach(r=>r.duration=(c||1800)/e.length),f(),p[0].className=z,v&&p.toggle(!!$)}else{const i=b(`<ui-number class="ui-number ${x}" type="${l||"number"}" duration="600" prefix=${S} comma=${T} suffix=${u} style="${k(0,0)}">${a}</ui-number>`);L[typeof h=="number"?"append":"html"](i),setTimeout(e=>this.uiNumber(a,z,l,h,M,R,j,c,v,s),0),v&&i.toggle(!!$)}return this}};export{o as uiNumber};
