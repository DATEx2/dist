const knownProductSlugs=require("./knownProductSlugs.json"),knownCategorySlugs=require("./knownCategoriesSlugs.json"),DECODE_RULES={$h:"https://d2j6dbq0eux0bg.cloudfront.net/images/84625467",$p:"products",$w:".webp",$j:".jpg",$J:".jpeg"},DECODE_REGEX=/\$[IhpiwjJ]/g,decodeUrl=(r,e)=>r&&r.replace(DECODE_REGEX,s=>s==="$I"?DECODE_RULES.$h+"/"+DECODE_RULES.$p+"/"+e:s==="$i"?e:DECODE_RULES[s]),cats=Object.getOwnPropertyNames(knownCategorySlugs).map((r=>{const e=knownCategorySlugs[r],s=e[0],o={id:s,parentCategoryId:e[2],orderBy:e[3],productIds:e[4],childrenCategories:[],flattenCategories:[]};return knownCategorySlugs[r]=o,knownCategorySlugs[s]=o,knownCategorySlugs[r.toLocaleLowerCase()]=o,e})),products=[];Object.keys(knownProductSlugs).forEach(r=>{const e=knownProductSlugs[r];if(Array.isArray(e)&&typeof e[0]=="string"){const s=parseInt(r),o={id:s,slug:e[0],categoryId:e[1],sku:e[2],name:e[3],weight:e[4],price:e[5],compareToPrice:e[6],wholesalePrices:[{quantity:1,price:e[5],compareToPrice:e[6]},...(e[7]||[]).map((t,n,i)=>n%2===0?{quantity:t,price:i[n+1],compareToPrice:e[6]}:null).filter(Boolean)],options:e[8]?.map(t=>({type:t[0]||"SIZE",name:t[1],defaultChoice:t[2],choices:t[3]?.map(n=>({text:n[0],priceModifier:n[1],priceModifierType:n[2]||"ABSOLUTE",textTranslated:{cy:{id:n[3]}}}))||[]}))||[],css:e[9]||[],css360:e[10]||{},media:{images:e[11]?e[11].map(t=>({imageOriginalUrl:decodeUrl(t,s)})):[]}};knownProductSlugs[o.id]=o,o.slug&&(knownProductSlugs[o.slug]=o,knownProductSlugs[o.slug.toLowerCase()]=o),products.push(o)}}),knownProductSlugs.products=products,cats.forEach((r=>{const e=r.products={},s={orderBy:0};var o,t=knownCategorySlugs[r.parentCategoryId],n=knownCategorySlugs[t?.parentCategoryId],i=[r,t,n].filter((a=>a));t?.id&&(t.childrenCategories.push(r),t.flattenCategories.push(r)),n?.id&&n.flattenCategories.push(r),n=i[2]||s,t=i[1]||s,o=i[0]||s,r.productIds?.forEach(((a,c)=>{e[a]={product:knownProductSlugs[a],orderBy:1e7*n.orderBy+1e5*t.orderBy+1e3*o.orderBy+c}}))})),typeof module<"u"&&(module.exports={knownProductSlugs,knownCategorySlugs});
